"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[7785],{9438:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return n},metadata:function(){return c},toc:function(){return k},default:function(){return m}});var r=a(87462),o=a(63366),i=(a(67294),a(3905)),l=(a(26396),a(58215),["components"]),s={id:"class-websocket",title:"WebSocket"},n=void 0,c={unversionedId:"api/class-websocket",id:"version-1.16/api/class-websocket",isDocsHomePage:!1,title:"WebSocket",description:"The [WebSocket] class represents websocket connections in the page.",source:"@site/versioned_docs/version-1.16/api/class-websocket.mdx",sourceDirName:"api",slug:"/api/class-websocket",permalink:"/java/docs/1.16/api/class-websocket",tags:[],version:"1.16",frontMatter:{id:"class-websocket",title:"WebSocket"},sidebar:"version-1.16/api",previous:{title:"Video",permalink:"/java/docs/1.16/api/class-video"},next:{title:"WebSocketFrame",permalink:"/java/docs/1.16/api/class-websocketframe"}},k=[{value:"WebSocket.onClose(handler)",id:"web-socket-event-close",children:[],level:2},{value:"WebSocket.onFrameReceived(handler)",id:"web-socket-event-frame-received",children:[],level:2},{value:"WebSocket.onFrameSent(handler)",id:"web-socket-event-frame-sent",children:[],level:2},{value:"WebSocket.onSocketError(handler)",id:"web-socket-event-socket-error",children:[],level:2},{value:"WebSocket.isClosed()",id:"web-socket-is-closed",children:[],level:2},{value:"WebSocket.url()",id:"web-socket-url",children:[],level:2},{value:"WebSocket.waitForFrameReceived(options, callback)",id:"web-socket-wait-for-frame-received",children:[],level:2},{value:"WebSocket.waitForFrameSent(options, callback)",id:"web-socket-wait-for-frame-sent",children:[],level:2}],d={toc:k};function m(e){var t=e.components,a=(0,o.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/java/docs/1.16/api/class-websocket",title:"WebSocket"},"WebSocket")," class represents websocket connections in the page."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-event-close"},"WebSocket.onClose(handler)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-event-frame-received"},"WebSocket.onFrameReceived(handler)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-event-frame-sent"},"WebSocket.onFrameSent(handler)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-event-socket-error"},"WebSocket.onSocketError(handler)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-is-closed"},"WebSocket.isClosed()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-url"},"WebSocket.url()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-wait-for-frame-received"},"WebSocket.waitForFrameReceived([options], callback)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket#web-socket-wait-for-frame-sent"},"WebSocket.waitForFrameSent([options], callback)"))),(0,i.kt)("h2",{id:"web-socket-event-close"},"WebSocket.onClose(handler)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"type: ","<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocket",title:"WebSocket"},"WebSocket"),">")),(0,i.kt)("p",null,"Fired when the websocket closes."),(0,i.kt)("h2",{id:"web-socket-event-frame-received"},"WebSocket.onFrameReceived(handler)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"type: ","<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">")),(0,i.kt)("p",null,"Fired when the websocket receives a frame."),(0,i.kt)("h2",{id:"web-socket-event-frame-sent"},"WebSocket.onFrameSent(handler)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"type: ","<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">")),(0,i.kt)("p",null,"Fired when the websocket sends a frame."),(0,i.kt)("h2",{id:"web-socket-event-socket-error"},"WebSocket.onSocketError(handler)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"type: ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String"},"String"),">")),(0,i.kt)("p",null,"Fired when the websocket has an error."),(0,i.kt)("h2",{id:"web-socket-is-closed"},"WebSocket.isClosed()"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"returns:",(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-is-closed-return"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"boolean"},"boolean"),">",(0,i.kt)("a",{href:"#web-socket-is-closed-return",class:"list-anchor"},"#"))),(0,i.kt)("p",null,"Indicates that the web socket has been closed."),(0,i.kt)("h2",{id:"web-socket-url"},"WebSocket.url()"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"returns:",(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-url-return"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String"},"String"),">",(0,i.kt)("a",{href:"#web-socket-url-return",class:"list-anchor"},"#"))),(0,i.kt)("p",null,"Contains the URL of the WebSocket."),(0,i.kt)("h2",{id:"web-socket-wait-for-frame-received"},"WebSocket.waitForFrameReceived(","[options]",", callback)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"options")," ","<",(0,i.kt)("inlineCode",{parentName:"li"},"WebSocket.WaitForFrameReceivedOptions"),">",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"setPredicate"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-received-option-predicate"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html",title:"Predicate"},"Predicate"),"<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">",">"," Receives the ",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame")," object and resolves to truthy value when the waiting should resolve.",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-received-option-predicate",class:"list-anchor"},"#")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"setTimeout"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-received-option-timeout"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"double"},"double"),">"," Maximum time to wait for in milliseconds. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"30000")," (30 seconds). Pass ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," to disable timeout. The default value can be changed by using the ",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-browsercontext#browser-context-set-default-timeout"},"BrowserContext.setDefaultTimeout(timeout)"),".",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-received-option-timeout",class:"list-anchor"},"#")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"callback"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-received-option-callback"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html",title:"Runnable"},"Runnable"),">"," Callback that performs the action triggering the event.",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-received-option-callback",class:"list-anchor"},"#")),(0,i.kt)("li",{parentName:"ul"},"returns:",(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-received-return"})," ","<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-received-return",class:"list-anchor"},"#"))),(0,i.kt)("p",null,"Performs action and waits for a frame to be sent. If predicate is provided, it passes ",(0,i.kt)("a",{parentName:"p",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame")," value into the ",(0,i.kt)("inlineCode",{parentName:"p"},"predicate")," function and waits for ",(0,i.kt)("inlineCode",{parentName:"p"},"predicate(webSocketFrame)")," to return a truthy value. Will throw an error if the WebSocket or Page is closed before the frame is received."),(0,i.kt)("h2",{id:"web-socket-wait-for-frame-sent"},"WebSocket.waitForFrameSent(","[options]",", callback)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"options")," ","<",(0,i.kt)("inlineCode",{parentName:"li"},"WebSocket.WaitForFrameSentOptions"),">",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"setPredicate"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-sent-option-predicate"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html",title:"Predicate"},"Predicate"),"<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">",">"," Receives the ",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame")," object and resolves to truthy value when the waiting should resolve.",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-sent-option-predicate",class:"list-anchor"},"#")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"setTimeout"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-sent-option-timeout"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"double"},"double"),">"," Maximum time to wait for in milliseconds. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"30000")," (30 seconds). Pass ",(0,i.kt)("inlineCode",{parentName:"li"},"0")," to disable timeout. The default value can be changed by using the ",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-browsercontext#browser-context-set-default-timeout"},"BrowserContext.setDefaultTimeout(timeout)"),".",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-sent-option-timeout",class:"list-anchor"},"#")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"callback"),(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-sent-option-callback"})," ","<",(0,i.kt)("a",{parentName:"li",href:"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html",title:"Runnable"},"Runnable"),">"," Callback that performs the action triggering the event.",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-sent-option-callback",class:"list-anchor"},"#")),(0,i.kt)("li",{parentName:"ul"},"returns:",(0,i.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"web-socket-wait-for-frame-sent-return"})," ","<",(0,i.kt)("a",{parentName:"li",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame"),">",(0,i.kt)("a",{href:"#web-socket-wait-for-frame-sent-return",class:"list-anchor"},"#"))),(0,i.kt)("p",null,"Performs action and waits for a frame to be sent. If predicate is provided, it passes ",(0,i.kt)("a",{parentName:"p",href:"/java/docs/1.16/api/class-websocketframe",title:"WebSocketFrame"},"WebSocketFrame")," value into the ",(0,i.kt)("inlineCode",{parentName:"p"},"predicate")," function and waits for ",(0,i.kt)("inlineCode",{parentName:"p"},"predicate(webSocketFrame)")," to return a truthy value. Will throw an error if the WebSocket or Page is closed before the frame is sent."))}m.isMDXComponent=!0}}]);