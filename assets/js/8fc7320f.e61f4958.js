"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[9528],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(a),u=n,h=m["".concat(l,".").concat(u)]||m[u]||d[u]||o;return a?r.createElement(h,i(i({ref:t},p),{},{components:a})):r.createElement(h,i({ref:t},p))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},46594:function(e,t,a){a.r(t),a.d(t,{assets:function(){return k},contentTitle:function(){return u},default:function(){return v},frontMatter:function(){return m},metadata:function(){return h},toc:function(){return b}});var r=a(3905),n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,d=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&p(e,a,t[a]);if(s)for(var a of s(t))c.call(t,a)&&p(e,a,t[a]);return e};const m={id:"class-browsercontext",title:"BrowserContext"},u=void 0,h={unversionedId:"api/class-browsercontext",id:"version-1.22/api/class-browsercontext",title:"BrowserContext",description:"* extends: [EventEmitter]",source:"@site/versioned_docs/version-1.22/api/class-browsercontext.mdx",sourceDirName:"api",slug:"/api/class-browsercontext",permalink:"/docs/1.22/api/class-browsercontext",tags:[],version:"1.22",frontMatter:{id:"class-browsercontext",title:"BrowserContext"},sidebar:"api",previous:{title:"Browser",permalink:"/docs/1.22/api/class-browser"},next:{title:"BrowserServer",permalink:"/docs/1.22/api/class-browserserver"}},k={},b=[{value:"browserContext.on(&#39;backgroundpage&#39;)",id:"browser-context-event-background-page",level:2},{value:"browserContext.on(&#39;close&#39;)",id:"browser-context-event-close",level:2},{value:"browserContext.on(&#39;page&#39;)",id:"browser-context-event-page",level:2},{value:"browserContext.on(&#39;request&#39;)",id:"browser-context-event-request",level:2},{value:"browserContext.on(&#39;requestfailed&#39;)",id:"browser-context-event-request-failed",level:2},{value:"browserContext.on(&#39;requestfinished&#39;)",id:"browser-context-event-request-finished",level:2},{value:"browserContext.on(&#39;response&#39;)",id:"browser-context-event-response",level:2},{value:"browserContext.on(&#39;serviceworker&#39;)",id:"browser-context-event-service-worker",level:2},{value:"browserContext.addCookies(cookies)",id:"browser-context-add-cookies",level:2},{value:"browserContext.addInitScript(script, arg)",id:"browser-context-add-init-script",level:2},{value:"browserContext.backgroundPages()",id:"browser-context-background-pages",level:2},{value:"browserContext.browser()",id:"browser-context-browser",level:2},{value:"browserContext.clearCookies()",id:"browser-context-clear-cookies",level:2},{value:"browserContext.clearPermissions()",id:"browser-context-clear-permissions",level:2},{value:"browserContext.close()",id:"browser-context-close",level:2},{value:"browserContext.cookies(urls)",id:"browser-context-cookies",level:2},{value:"browserContext.exposeBinding(name, callback, options)",id:"browser-context-expose-binding",level:2},{value:"browserContext.exposeFunction(name, callback)",id:"browser-context-expose-function",level:2},{value:"browserContext.grantPermissions(permissions, options)",id:"browser-context-grant-permissions",level:2},{value:"browserContext.newCDPSession(page)",id:"browser-context-new-cdp-session",level:2},{value:"browserContext.newPage()",id:"browser-context-new-page",level:2},{value:"browserContext.pages()",id:"browser-context-pages",level:2},{value:"browserContext.route(url, handler, options)",id:"browser-context-route",level:2},{value:"browserContext.serviceWorkers()",id:"browser-context-service-workers",level:2},{value:"browserContext.setDefaultNavigationTimeout(timeout)",id:"browser-context-set-default-navigation-timeout",level:2},{value:"browserContext.setDefaultTimeout(timeout)",id:"browser-context-set-default-timeout",level:2},{value:"browserContext.setExtraHTTPHeaders(headers)",id:"browser-context-set-extra-http-headers",level:2},{value:"browserContext.setGeolocation(geolocation)",id:"browser-context-set-geolocation",level:2},{value:"browserContext.setHTTPCredentials(httpCredentials)",id:"browser-context-set-http-credentials",level:2},{value:"browserContext.setOffline(offline)",id:"browser-context-set-offline",level:2},{value:"browserContext.storageState(options)",id:"browser-context-storage-state",level:2},{value:"browserContext.unroute(url, handler)",id:"browser-context-unroute",level:2},{value:"browserContext.waitForEvent(event, optionsOrPredicate, options)",id:"browser-context-wait-for-event",level:2},{value:"browserContext.request",id:"browser-context-request",level:2},{value:"browserContext.tracing",id:"browser-context-tracing",level:2}],g={toc:b};function v(e){var t,a=e,{components:n}=a,p=((e,t)=>{var a={};for(var r in e)l.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&s)for(var r of s(e))t.indexOf(r)<0&&c.call(e,r)&&(a[r]=e[r]);return a})(a,["components"]);return(0,r.kt)("wrapper",(t=d(d({},g),p),o(t,i({components:n,mdxType:"MDXLayout"}))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"extends: ",(0,r.kt)("a",d({parentName:"li"},{href:"https://nodejs.org/api/events.html#events_class_eventemitter",title:"EventEmitter"}),"EventEmitter"))),(0,r.kt)("p",null,"BrowserContexts provide a way to operate multiple independent browser sessions."),(0,r.kt)("p",null,"If a page opens another page, e.g. with a ",(0,r.kt)("inlineCode",{parentName:"p"},"window.open")," call, the popup will belong to the parent page's browser context."),(0,r.kt)("p",null,'Playwright allows creating "incognito" browser contexts with ',(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browser#browser-new-context"}),"browser.newContext([options])"),' method. "Incognito" browser contexts don\'t write any browsing data to disk.'),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"// Create a new incognito browser context\nconst context = await browser.newContext();\n// Create a new page inside context.\nconst page = await context.newPage();\nawait page.goto('https://example.com');\n// Dispose context once it's no longer needed.\nawait context.close();\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-background-page"}),"browserContext.on('backgroundpage')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-close"}),"browserContext.on('close')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-page"}),"browserContext.on('page')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-request"}),"browserContext.on('request')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-request-failed"}),"browserContext.on('requestfailed')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-request-finished"}),"browserContext.on('requestfinished')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-response"}),"browserContext.on('response')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-service-worker"}),"browserContext.on('serviceworker')")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-add-cookies"}),"browserContext.addCookies(cookies)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-add-init-script"}),"browserContext.addInitScript(script[, arg])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-background-pages"}),"browserContext.backgroundPages()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-browser"}),"browserContext.browser()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-clear-cookies"}),"browserContext.clearCookies()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-clear-permissions"}),"browserContext.clearPermissions()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-close"}),"browserContext.close()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-cookies"}),"browserContext.cookies([urls])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-expose-binding"}),"browserContext.exposeBinding(name, callback[, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-expose-function"}),"browserContext.exposeFunction(name, callback)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-grant-permissions"}),"browserContext.grantPermissions(permissions[, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-new-cdp-session"}),"browserContext.newCDPSession(page)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-new-page"}),"browserContext.newPage()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-pages"}),"browserContext.pages()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-route"}),"browserContext.route(url, handler[, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-service-workers"}),"browserContext.serviceWorkers()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-navigation-timeout"}),"browserContext.setDefaultNavigationTimeout(timeout)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-timeout"}),"browserContext.setDefaultTimeout(timeout)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-extra-http-headers"}),"browserContext.setExtraHTTPHeaders(headers)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-geolocation"}),"browserContext.setGeolocation(geolocation)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-http-credentials"}),"browserContext.setHTTPCredentials(httpCredentials)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-offline"}),"browserContext.setOffline(offline)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-storage-state"}),"browserContext.storageState([options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-unroute"}),"browserContext.unroute(url[, handler])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-wait-for-event"}),"browserContext.waitForEvent(event[, optionsOrPredicate, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-request"}),"browserContext.request")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-tracing"}),"browserContext.tracing"))),(0,r.kt)("h2",d({},{id:"browser-context-event-background-page"}),"browserContext.on('backgroundpage')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),">")),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Only works with Chromium browser's persistent context."))),(0,r.kt)("p",null,"Emitted when new background page is created in the context."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const backgroundPage = await context.waitForEvent('backgroundpage');\n")),(0,r.kt)("h2",d({},{id:"browser-context-event-close"}),"browserContext.on('close')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext",title:"BrowserContext"}),"BrowserContext"),">")),(0,r.kt)("p",null,"Emitted when Browser context gets closed. This might happen because of one of the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Browser context is closed."),(0,r.kt)("li",{parentName:"ul"},"Browser application is closed or crashed."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browser#browser-close"}),"browser.close()")," method was called.")),(0,r.kt)("h2",d({},{id:"browser-context-event-page"}),"browserContext.on('page')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),">")),(0,r.kt)("p",null,"The event is emitted when a new Page is created in the BrowserContext. The page may still be loading. The event will also fire for popup pages. See also ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-event-popup"}),"page.on('popup')")," to receive events about popups relevant to a specific page."),(0,r.kt)("p",null,"The earliest moment that page is available is when it has navigated to the initial url. For example, when opening a popup with ",(0,r.kt)("inlineCode",{parentName:"p"},"window.open('http://example.com')"),', this event will fire when the network request to "',(0,r.kt)("a",d({parentName:"p"},{href:"http://example.com%22"}),'http://example.com"')," is done and its response has started loading in the popup."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const [newPage] = await Promise.all([\n  context.waitForEvent('page'),\n  page.click('a[target=_blank]'),\n]);\nconsole.log(await newPage.evaluate('location.href'));\n")),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-wait-for-load-state"}),"page.waitForLoadState([state, options])")," to wait until the page gets to a particular state (you should not need it in most cases)."))),(0,r.kt)("h2",d({},{id:"browser-context-event-request"}),"browserContext.on('request')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-request",title:"Request"}),"Request"),">")),(0,r.kt)("p",null,"Emitted when a request is issued from any pages created through this context. The ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-request",title:"Request"}),"request")," object is read-only. To only listen for requests from a particular page, use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-event-request"}),"page.on('request')"),"."),(0,r.kt)("p",null,"In order to intercept and mutate requests, see ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-route"}),"browserContext.route(url, handler[, options])")," or ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-route"}),"page.route(url, handler[, options])"),"."),(0,r.kt)("h2",d({},{id:"browser-context-event-request-failed"}),"browserContext.on('requestfailed')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-request",title:"Request"}),"Request"),">")),(0,r.kt)("p",null,"Emitted when a request fails, for example by timing out. To only listen for failed requests from a particular page, use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-event-request-failed"}),"page.on('requestfailed')"),"."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"HTTP Error responses, such as 404 or 503, are still successful responses from HTTP standpoint, so request will complete with ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-request-finished"}),"browserContext.on('requestfinished')")," event and not with ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-event-request-failed"}),"browserContext.on('requestfailed')"),"."))),(0,r.kt)("h2",d({},{id:"browser-context-event-request-finished"}),"browserContext.on('requestfinished')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-request",title:"Request"}),"Request"),">")),(0,r.kt)("p",null,"Emitted when a request finishes successfully after downloading the response body. For a successful response, the sequence of events is ",(0,r.kt)("inlineCode",{parentName:"p"},"request"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"response")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"requestfinished"),". To listen for successful requests from a particular page, use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-event-request-finished"}),"page.on('requestfinished')"),"."),(0,r.kt)("h2",d({},{id:"browser-context-event-response"}),"browserContext.on('response')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-response",title:"Response"}),"Response"),">")),(0,r.kt)("p",null,"Emitted when ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-response",title:"Response"}),"response")," status and headers are received for a request. For a successful response, the sequence of events is ",(0,r.kt)("inlineCode",{parentName:"p"},"request"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"response")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"requestfinished"),". To listen for response events from a particular page, use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-event-response"}),"page.on('response')"),"."),(0,r.kt)("h2",d({},{id:"browser-context-event-service-worker"}),"browserContext.on('serviceworker')"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-worker",title:"Worker"}),"Worker"),">")),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Service workers are only supported on Chromium-based browsers."))),(0,r.kt)("p",null,"Emitted when new service worker is created in the context."),(0,r.kt)("h2",d({},{id:"browser-context-add-cookies"}),"browserContext.addCookies(cookies)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cookies"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-add-cookies-option-cookies"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("a",{href:"#browser-context-add-cookies-option-cookies",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," either url or domain / path are required. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"domain?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," either url or domain / path are required Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," either url or domain / path are required Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"expires?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Unix time in seconds. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"httpOnly?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secure?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sameSite?")," ","<",'"Strict"|"Lax"|"None"',">"," Optional."))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-add-cookies-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-add-cookies-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Adds cookies into this browser context. All pages within this context will have these cookies installed. Cookies can be obtained via ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-cookies"}),"browserContext.cookies([urls])"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"await browserContext.addCookies([cookieObject1, cookieObject2]);\n")),(0,r.kt)("h2",d({},{id:"browser-context-add-init-script"}),"browserContext.addInitScript(script","[, arg]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"script"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-add-init-script-option-script"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">"," Script to be evaluated in all pages in the browser context.",(0,r.kt)("a",{href:"#browser-context-add-init-script-option-script",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," Path to the JavaScript file. If ",(0,r.kt)("inlineCode",{parentName:"li"},"path")," is a relative path, then it is resolved relative to the current working directory. Optional."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"content?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," Raw script content. Optional."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"arg?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-add-init-script-option-arg"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description",title:"Serializable"}),"Serializable"),">"," Optional argument to pass to ",(0,r.kt)("inlineCode",{parentName:"li"},"script")," (only supported when passing a function).",(0,r.kt)("a",{href:"#browser-context-add-init-script-option-arg",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-add-init-script-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-add-init-script-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Adds a script which would be evaluated in one of the following scenarios:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Whenever a page is created in the browser context or is navigated."),(0,r.kt)("li",{parentName:"ul"},"Whenever a child frame is attached or navigated in any page in the browser context. In this case, the script is evaluated in the context of the newly attached frame.")),(0,r.kt)("p",null,"The script is evaluated after the document was created but before any of its scripts were run. This is useful to amend the JavaScript environment, e.g. to seed ",(0,r.kt)("inlineCode",{parentName:"p"},"Math.random"),"."),(0,r.kt)("p",null,"An example of overriding ",(0,r.kt)("inlineCode",{parentName:"p"},"Math.random")," before the page loads:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"// preload.js\nMath.random = () => 42;\n")),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"// In your playwright script, assuming the preload.js file is in same directory.\nawait browserContext.addInitScript({\n  path: 'preload.js'\n});\n")),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"The order of evaluation of multiple scripts installed via ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-add-init-script"}),"browserContext.addInitScript(script[, arg])")," and ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-add-init-script"}),"page.addInitScript(script[, arg])")," is not defined."))),(0,r.kt)("h2",d({},{id:"browser-context-background-pages"}),"browserContext.backgroundPages()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-background-pages-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),">",">",(0,r.kt)("a",{href:"#browser-context-background-pages-return",class:"list-anchor"},"#"))),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Background pages are only supported on Chromium-based browsers."))),(0,r.kt)("p",null,"All existing background pages in the context."),(0,r.kt)("h2",d({},{id:"browser-context-browser"}),"browserContext.browser()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-browser-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",title:"null"}),"null"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browser",title:"Browser"}),"Browser"),">",(0,r.kt)("a",{href:"#browser-context-browser-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Returns the browser instance of the context. If it was launched as a persistent context null gets returned."),(0,r.kt)("h2",d({},{id:"browser-context-clear-cookies"}),"browserContext.clearCookies()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-clear-cookies-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-clear-cookies-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Clears context cookies."),(0,r.kt)("h2",d({},{id:"browser-context-clear-permissions"}),"browserContext.clearPermissions()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-clear-permissions-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-clear-permissions-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Clears all permission overrides for the browser context."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const context = await browser.newContext();\nawait context.grantPermissions(['clipboard-read']);\n// do stuff ..\ncontext.clearPermissions();\n")),(0,r.kt)("h2",d({},{id:"browser-context-close"}),"browserContext.close()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-close-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-close-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Closes the browser context. All the pages that belong to the browser context will be closed."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"The default browser context cannot be closed."))),(0,r.kt)("h2",d({},{id:"browser-context-cookies"}),"browserContext.cookies(","[urls]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"urls?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-cookies-option-urls"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">",">"," Optional list of URLs.",(0,r.kt)("a",{href:"#browser-context-cookies-option-urls",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-cookies-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">>",">",(0,r.kt)("a",{href:"#browser-context-cookies-return",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"domain")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"expires")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Unix time in seconds."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"httpOnly")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secure")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sameSite")," ","<",'"Strict"|"Lax"|"None"',">")))),(0,r.kt)("p",null,"If no URLs are specified, this method returns all cookies. If URLs are specified, only cookies that affect those URLs are returned."),(0,r.kt)("h2",d({},{id:"browser-context-expose-binding"}),"browserContext.exposeBinding(name, callback","[, options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-binding-option-name"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," Name of the function on the window object.",(0,r.kt)("a",{href:"#browser-context-expose-binding-option-name",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-binding-option-callback"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),">"," Callback function that will be called in the Playwright's context.",(0,r.kt)("a",{href:"#browser-context-expose-binding-option-callback",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"handle?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-binding-option-handle"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," Whether to pass the argument as a handle, instead of passing by value. When passing a handle, only one argument is supported. When passing by value, multiple arguments are supported.",(0,r.kt)("a",{href:"#browser-context-expose-binding-option-handle",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-binding-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-expose-binding-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"The method adds a function called ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," on the ",(0,r.kt)("inlineCode",{parentName:"p"},"window")," object of every frame in every page in the context. When called, the function executes ",(0,r.kt)("inlineCode",{parentName:"p"},"callback")," and returns a ",(0,r.kt)("a",d({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise")," which resolves to the return value of ",(0,r.kt)("inlineCode",{parentName:"p"},"callback"),". If the ",(0,r.kt)("inlineCode",{parentName:"p"},"callback")," returns a ",(0,r.kt)("a",d({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),", it will be awaited."),(0,r.kt)("p",null,"The first argument of the ",(0,r.kt)("inlineCode",{parentName:"p"},"callback")," function contains information about the caller: ",(0,r.kt)("inlineCode",{parentName:"p"},"{ browserContext: BrowserContext, page: Page, frame: Frame }"),"."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-expose-binding"}),"page.exposeBinding(name, callback[, options])")," for page-only version."),(0,r.kt)("p",null,"An example of exposing page URL to all frames in all pages in the context:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const { webkit } = require('playwright');  // Or 'chromium' or 'firefox'.\n\n(async () => {\n  const browser = await webkit.launch({ headless: false });\n  const context = await browser.newContext();\n  await context.exposeBinding('pageURL', ({ page }) => page.url());\n  const page = await context.newPage();\n  await page.setContent(`\n    <script>\n      async function onClick() {\n        document.querySelector('div').textContent = await window.pageURL();\n      }\n    <\/script>\n    <button onclick=\"onClick()\">Click me</button>\n    <div></div>\n  `);\n  await page.click('button');\n})();\n")),(0,r.kt)("p",null,"An example of passing an element handle:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"await context.exposeBinding('clicked', async (source, element) => {\n  console.log(await element.textContent());\n}, { handle: true });\nawait page.setContent(`\n  <script>\n    document.addEventListener('click', event => window.clicked(event.target));\n  <\/script>\n  <div>Click me</div>\n  <div>Or click me</div>\n`);\n")),(0,r.kt)("h2",d({},{id:"browser-context-expose-function"}),"browserContext.exposeFunction(name, callback)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-function-option-name"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," Name of the function on the window object.",(0,r.kt)("a",{href:"#browser-context-expose-function-option-name",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"callback"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-function-option-callback"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),">"," Callback function that will be called in the Playwright's context.",(0,r.kt)("a",{href:"#browser-context-expose-function-option-callback",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-expose-function-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-expose-function-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"The method adds a function called ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," on the ",(0,r.kt)("inlineCode",{parentName:"p"},"window")," object of every frame in every page in the context. When called, the function executes ",(0,r.kt)("inlineCode",{parentName:"p"},"callback")," and returns a ",(0,r.kt)("a",d({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise")," which resolves to the return value of ",(0,r.kt)("inlineCode",{parentName:"p"},"callback"),"."),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"callback")," returns a ",(0,r.kt)("a",d({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),", it will be awaited."),(0,r.kt)("p",null,"See ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-expose-function"}),"page.exposeFunction(name, callback)")," for page-only version."),(0,r.kt)("p",null,"An example of adding a ",(0,r.kt)("inlineCode",{parentName:"p"},"sha256")," function to all pages in the context:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const { webkit } = require('playwright');  // Or 'chromium' or 'firefox'.\nconst crypto = require('crypto');\n\n(async () => {\n  const browser = await webkit.launch({ headless: false });\n  const context = await browser.newContext();\n  await context.exposeFunction('sha256', text => crypto.createHash('sha256').update(text).digest('hex'));\n  const page = await context.newPage();\n  await page.setContent(`\n    <script>\n      async function onClick() {\n        document.querySelector('div').textContent = await window.sha256('PLAYWRIGHT');\n      }\n    <\/script>\n    <button onclick=\"onClick()\">Click me</button>\n    <div></div>\n  `);\n  await page.click('button');\n})();\n")),(0,r.kt)("h2",d({},{id:"browser-context-grant-permissions"}),"browserContext.grantPermissions(permissions","[, options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"permissions"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-grant-permissions-option-permissions"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">",">"," A permission or an array of permissions to grant. Permissions can be one of the following values:",(0,r.kt)("a",{href:"#browser-context-grant-permissions-option-permissions",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'geolocation'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'midi'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'midi-sysex'")," (system-exclusive midi)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'notifications'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'camera'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'microphone'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'background-sync'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'ambient-light-sensor'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'accelerometer'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'gyroscope'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'magnetometer'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'accessibility-events'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'clipboard-read'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'clipboard-write'")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"'payment-handler'")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"origin?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-grant-permissions-option-origin"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," The ",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Glossary/Origin",title:"Origin"}),"origin"),' to grant permissions to, e.g. "',(0,r.kt)("a",d({parentName:"li"},{href:"https://example.com%22"}),'https://example.com"'),".",(0,r.kt)("a",{href:"#browser-context-grant-permissions-option-origin",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-grant-permissions-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-grant-permissions-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Grants specified permissions to the browser context. Only grants corresponding permissions to the given origin if specified."),(0,r.kt)("h2",d({},{id:"browser-context-new-cdp-session"}),"browserContext.newCDPSession(page)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"page"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-new-cdp-session-option-page"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-frame",title:"Frame"}),"Frame"),">"," Target to create new session for. For backwards-compatibility, this parameter is named ",(0,r.kt)("inlineCode",{parentName:"li"},"page"),", but it can be a ",(0,r.kt)("inlineCode",{parentName:"li"},"Page")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"Frame")," type.",(0,r.kt)("a",{href:"#browser-context-new-cdp-session-option-page",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-new-cdp-session-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-cdpsession",title:"CDPSession"}),"CDPSession"),">",">",(0,r.kt)("a",{href:"#browser-context-new-cdp-session-return",class:"list-anchor"},"#"))),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"CDP sessions are only supported on Chromium-based browsers."))),(0,r.kt)("p",null,"Returns the newly created session."),(0,r.kt)("h2",d({},{id:"browser-context-new-page"}),"browserContext.newPage()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-new-page-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),">",">",(0,r.kt)("a",{href:"#browser-context-new-page-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Creates a new page in the browser context."),(0,r.kt)("h2",d({},{id:"browser-context-pages"}),"browserContext.pages()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-pages-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page",title:"Page"}),"Page"),">",">",(0,r.kt)("a",{href:"#browser-context-pages-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Returns all open pages in the context."),(0,r.kt)("h2",d({},{id:"browser-context-route"}),"browserContext.route(url, handler","[, options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-route-option-url"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",title:"RegExp"}),"RegExp"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"(",(0,r.kt)("a",d({parentName:"li"},{href:"https://nodejs.org/api/url.html",title:"URL"}),"URL"),")",":",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," A glob pattern, regex pattern or predicate receiving ",(0,r.kt)("a",d({parentName:"li"},{href:"https://nodejs.org/api/url.html",title:"URL"}),"URL")," to match while routing. When a ",(0,r.kt)("inlineCode",{parentName:"li"},"baseURL")," via the context options was provided and the passed URL is a path, it gets merged via the ",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/URL/URL"}),(0,r.kt)("inlineCode",{parentName:"a"},"new URL()"))," constructor.",(0,r.kt)("a",{href:"#browser-context-route-option-url",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"handler"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-route-option-handler"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"(",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-route",title:"Route"}),"Route"),", ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-request",title:"Request"}),"Request"),")",">"," handler function to route the request.",(0,r.kt)("a",{href:"#browser-context-route-option-handler",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"times?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-route-option-times"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," How often a route should be used. By default it will be used every time.",(0,r.kt)("a",{href:"#browser-context-route-option-times",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-route-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-route-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Routing provides the capability to modify network requests that are made by any page in the browser context. Once route is enabled, every request matching the url pattern will stall unless it's continued, fulfilled or aborted."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-route"}),"page.route(url, handler[, options])")," will not intercept requests intercepted by Service Worker. See ",(0,r.kt)("a",d({parentName:"p"},{href:"https://github.com/microsoft/playwright/issues/1090"}),"this")," issue. We recommend disabling Service Workers when using request interception. Via ",(0,r.kt)("inlineCode",{parentName:"p"},"await context.addInitScript(() => delete window.navigator.serviceWorker);")))),(0,r.kt)("p",null,"An example of a naive handler that aborts all image requests:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const context = await browser.newContext();\nawait context.route('**/*.{png,jpg,jpeg}', route => route.abort());\nconst page = await context.newPage();\nawait page.goto('https://example.com');\nawait browser.close();\n")),(0,r.kt)("p",null,"or the same snippet using a regex pattern instead:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const context = await browser.newContext();\nawait context.route(/(\\.png$)|(\\.jpg$)/, route => route.abort());\nconst page = await context.newPage();\nawait page.goto('https://example.com');\nawait browser.close();\n")),(0,r.kt)("p",null,"It is possible to examine the request to decide the route action. For example, mocking all requests that contain some post data, and leaving all other requests as is:"),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"await context.route('/api/**', route => {\n  if (route.request().postData().includes('my-string'))\n    route.fulfill({ body: 'mocked-data' });\n  else\n    route.continue();\n});\n")),(0,r.kt)("p",null,"Page routes (set up with ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-route"}),"page.route(url, handler[, options])"),") take precedence over browser context routes when request matches both handlers."),(0,r.kt)("p",null,"To remove a route with its handler you can use ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-unroute"}),"browserContext.unroute(url[, handler])"),"."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Enabling routing disables http cache."))),(0,r.kt)("h2",d({},{id:"browser-context-service-workers"}),"browserContext.serviceWorkers()"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-service-workers-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-worker",title:"Worker"}),"Worker"),">",">",(0,r.kt)("a",{href:"#browser-context-service-workers-return",class:"list-anchor"},"#"))),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Service workers are only supported on Chromium-based browsers."))),(0,r.kt)("p",null,"All existing service workers in the context."),(0,r.kt)("h2",d({},{id:"browser-context-set-default-navigation-timeout"}),"browserContext.setDefaultNavigationTimeout(timeout)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timeout"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-default-navigation-timeout-option-timeout"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Maximum navigation time in milliseconds",(0,r.kt)("a",{href:"#browser-context-set-default-navigation-timeout-option-timeout",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-default-navigation-timeout-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",(0,r.kt)("a",{href:"#browser-context-set-default-navigation-timeout-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"This setting will change the default maximum navigation time for the following methods and related shortcuts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-go-back"}),"page.goBack([options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-go-forward"}),"page.goForward([options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-goto"}),"page.goto(url[, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-reload"}),"page.reload([options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-set-content"}),"page.setContent(html[, options])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-page#page-wait-for-navigation"}),"page.waitForNavigation([options])"))),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-set-default-navigation-timeout"}),"page.setDefaultNavigationTimeout(timeout)")," and ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-set-default-timeout"}),"page.setDefaultTimeout(timeout)")," take priority over ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-navigation-timeout"}),"browserContext.setDefaultNavigationTimeout(timeout)"),"."))),(0,r.kt)("h2",d({},{id:"browser-context-set-default-timeout"}),"browserContext.setDefaultTimeout(timeout)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timeout"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-default-timeout-option-timeout"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Maximum time in milliseconds",(0,r.kt)("a",{href:"#browser-context-set-default-timeout-option-timeout",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-default-timeout-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",(0,r.kt)("a",{href:"#browser-context-set-default-timeout-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"This setting will change the default maximum time for all the methods accepting ",(0,r.kt)("inlineCode",{parentName:"p"},"timeout")," option."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-set-default-navigation-timeout"}),"page.setDefaultNavigationTimeout(timeout)"),", ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-set-default-timeout"}),"page.setDefaultTimeout(timeout)")," and ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-navigation-timeout"}),"browserContext.setDefaultNavigationTimeout(timeout)")," take priority over ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-timeout"}),"browserContext.setDefaultTimeout(timeout)"),"."))),(0,r.kt)("h2",d({},{id:"browser-context-set-extra-http-headers"}),"browserContext.setExtraHTTPHeaders(headers)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"headers"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-extra-http-headers-option-headers"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),", ",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">",">"," An object containing additional HTTP headers to be sent with every request. All header values must be strings.",(0,r.kt)("a",{href:"#browser-context-set-extra-http-headers-option-headers",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-extra-http-headers-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-set-extra-http-headers-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"The extra HTTP headers will be sent with every request initiated by any page in the context. These headers are merged with page-specific extra HTTP headers set with ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-page#page-set-extra-http-headers"}),"page.setExtraHTTPHeaders(headers)"),". If page overrides a particular header, page-specific header value will be used instead of the browser context header value."),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-extra-http-headers"}),"browserContext.setExtraHTTPHeaders(headers)")," does not guarantee the order of headers in the outgoing requests."))),(0,r.kt)("h2",d({},{id:"browser-context-set-geolocation"}),"browserContext.setGeolocation(geolocation)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"geolocation"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-geolocation-option-geolocation"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",title:"null"}),"null"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("a",{href:"#browser-context-set-geolocation-option-geolocation",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"latitude")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Latitude between -90 and 90."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"longitude")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Longitude between -180 and 180."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"accuracy?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Non-negative accuracy value. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"0"),"."))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-geolocation-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-set-geolocation-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Sets the context's geolocation. Passing ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," emulates position unavailable."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"await browserContext.setGeolocation({latitude: 59.95, longitude: 30.31667});\n")),(0,r.kt)("div",d({},{className:"admonition admonition-note alert alert--secondary"}),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-heading"}),(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",d({parentName:"h5"},{className:"admonition-icon"}),(0,r.kt)("svg",d({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,r.kt)("path",d({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,r.kt)("div",d({parentName:"div"},{className:"admonition-content"}),(0,r.kt)("p",{parentName:"div"},"Consider using ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-grant-permissions"}),"browserContext.grantPermissions(permissions[, options])")," to grant permissions for the browser context pages to read its geolocation."))),(0,r.kt)("h2",d({},{id:"browser-context-set-http-credentials"}),"browserContext.setHTTPCredentials(httpCredentials)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"httpCredentials"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-http-credentials-option-http-credentials"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",title:"null"}),"null"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("a",{href:"#browser-context-set-http-credentials-option-http-credentials",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"username")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"password")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-http-credentials-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-set-http-credentials-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"DEPRECATED")," Browsers may cache credentials after successful authentication. Create a new browser context instead."),(0,r.kt)("h2",d({},{id:"browser-context-set-offline"}),"browserContext.setOffline(offline)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"offline"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-offline-option-offline"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," Whether to emulate network being offline for the browser context.",(0,r.kt)("a",{href:"#browser-context-set-offline-option-offline",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-set-offline-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-set-offline-return",class:"list-anchor"},"#"))),(0,r.kt)("h2",d({},{id:"browser-context-storage-state"}),"browserContext.storageState(","[options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-storage-state-option-path"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," The file path to save the storage state to. If ",(0,r.kt)("inlineCode",{parentName:"li"},"path")," is a relative path, then it is resolved relative to current working directory. If no path is provided, storage state is still returned, but won't be saved to the disk.",(0,r.kt)("a",{href:"#browser-context-storage-state-option-path",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-storage-state-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("a",{href:"#browser-context-storage-state-return",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cookies")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"domain")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"path")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"expires")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," Unix time in seconds."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"httpOnly")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secure")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sameSite")," ","<",'"Strict"|"Lax"|"None"',">"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"origins")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"origin")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"localStorage")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",title:"Array"}),"Array"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">")))))))),(0,r.kt)("p",null,"Returns storage state for this browser context, contains current cookies and local storage snapshot."),(0,r.kt)("h2",d({},{id:"browser-context-unroute"}),"browserContext.unroute(url","[, handler]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-unroute-option-url"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",title:"RegExp"}),"RegExp"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"(",(0,r.kt)("a",d({parentName:"li"},{href:"https://nodejs.org/api/url.html",title:"URL"}),"URL"),")",":",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type",title:"Boolean"}),"boolean"),">"," A glob pattern, regex pattern or predicate receiving ",(0,r.kt)("a",d({parentName:"li"},{href:"https://nodejs.org/api/url.html",title:"URL"}),"URL")," used to register a routing with ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-route"}),"browserContext.route(url, handler[, options])"),".",(0,r.kt)("a",{href:"#browser-context-unroute-option-url",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"handler?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-unroute-option-handler"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"(",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-route",title:"Route"}),"Route"),", ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-request",title:"Request"}),"Request"),")",">"," Optional handler function used to register a routing with ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-route"}),"browserContext.route(url, handler[, options])"),".",(0,r.kt)("a",{href:"#browser-context-unroute-option-handler",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-unroute-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",title:"void"}),"void"),">",">",(0,r.kt)("a",{href:"#browser-context-unroute-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Removes a route created with ",(0,r.kt)("a",d({parentName:"p"},{href:"/docs/1.22/api/class-browsercontext#browser-context-route"}),"browserContext.route(url, handler[, options])"),". When ",(0,r.kt)("inlineCode",{parentName:"p"},"handler")," is not specified, removes all routes for the ",(0,r.kt)("inlineCode",{parentName:"p"},"url"),"."),(0,r.kt)("h2",d({},{id:"browser-context-wait-for-event"}),"browserContext.waitForEvent(event","[, optionsOrPredicate, options]",")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"event"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-wait-for-event-option-event"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type",title:"string"}),"string"),">"," Event name, same one would pass into ",(0,r.kt)("inlineCode",{parentName:"li"},"browserContext.on(event)"),".",(0,r.kt)("a",{href:"#browser-context-wait-for-event-option-event",class:"list-anchor"},"#")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"optionsOrPredicate?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-wait-for-event-option-options-or-predicate"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),"|",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">"," Either a predicate that receives an event or an options object. Optional.",(0,r.kt)("a",{href:"#browser-context-wait-for-event-option-options-or-predicate",class:"list-anchor"},"#"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"predicate")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),">"," receives the event data and resolves to truthy value when the waiting should resolve."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"timeout?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type",title:"Number"}),"number"),">"," maximum time to wait for in milliseconds. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"30000")," (30 seconds). Pass ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," to disable timeout. The default value can be changed by using the ",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-browsercontext#browser-context-set-default-timeout"}),"browserContext.setDefaultTimeout(timeout)"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options?")," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"predicate?"),(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-wait-for-event-option-predicate"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",title:"Function"}),"function"),">"," Receives the event data and resolves to truthy value when the waiting should resolve.",(0,r.kt)("a",{href:"#browser-context-wait-for-event-option-predicate",class:"list-anchor"},"#")))),(0,r.kt)("li",{parentName:"ul"},"returns:",(0,r.kt)("a",{"aria-hidden":"true",tabindex:"-1",class:"list-anchor-link",id:"browser-context-wait-for-event-return"})," ","<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",title:"Promise"}),"Promise"),"<",(0,r.kt)("a",d({parentName:"li"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",title:"Object"}),"Object"),">",">",(0,r.kt)("a",{href:"#browser-context-wait-for-event-return",class:"list-anchor"},"#"))),(0,r.kt)("p",null,"Waits for event to fire and passes its value into the predicate function. Returns when the predicate returns truthy value. Will throw an error if the context closes before the event is fired. Returns the event data value."),(0,r.kt)("pre",null,(0,r.kt)("code",d({parentName:"pre"},{className:"language-js"}),"const [page, _] = await Promise.all([\n  context.waitForEvent('page'),\n  page.click('button')\n]);\n")),(0,r.kt)("h2",d({},{id:"browser-context-request"}),"browserContext.request"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-apirequestcontext",title:"APIRequestContext"}),"APIRequestContext"),">")),(0,r.kt)("p",null,"API testing helper associated with this context. Requests made with this API will use context cookies."),(0,r.kt)("h2",d({},{id:"browser-context-tracing"}),"browserContext.tracing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"type: ","<",(0,r.kt)("a",d({parentName:"li"},{href:"/docs/1.22/api/class-tracing",title:"Tracing"}),"Tracing"),">")))}v.isMDXComponent=!0}}]);