"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[8994],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return h}});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(a),h=i,u=d["".concat(s,".").concat(h)]||d[h]||m[h]||l;return a?n.createElement(u,r(r({ref:t},c),{},{components:a})):n.createElement(u,r({ref:t},c))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,r=new Array(l);r[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},14745:function(e,t,a){a.r(t),a.d(t,{assets:function(){return k},contentTitle:function(){return h},default:function(){return v},frontMatter:function(){return d},metadata:function(){return u},toc:function(){return N}});var n=a(3905),i=Object.defineProperty,l=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,c=(e,t,a)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&c(e,a,t[a]);if(o)for(var a of o(t))p.call(t,a)&&c(e,a,t[a]);return e};const d={id:"selectors",title:"Selectors"},h=void 0,u={unversionedId:"selectors",id:"selectors",title:"Selectors",description:"Selectors are strings that are used to create Locator]s. Locators are used to perform actions on the elements by means of methods such as [locator.click([options]), locator.fill(value[, options]) and alike.",source:"@site/docs/selectors.mdx",sourceDirName:".",slug:"/selectors",permalink:"/docs/next/selectors",tags:[],version:"current",frontMatter:{id:"selectors",title:"Selectors"},sidebar:"docs",previous:{title:"Screenshots",permalink:"/docs/next/screenshots"},next:{title:"Videos",permalink:"/docs/next/videos"}},k={},N=[{value:"Quick guide",id:"quick-guide",level:2},{value:"Text selector",id:"text-selector",level:2},{value:"CSS selector",id:"css-selector",level:2},{value:"Selecting visible elements",id:"selecting-visible-elements",level:2},{value:"Selecting elements that contain other elements",id:"selecting-elements-that-contain-other-elements",level:2},{value:"Filter by text",id:"filter-by-text",level:3},{value:"Filter by another locator",id:"filter-by-another-locator",level:3},{value:"Inside CSS selector",id:"inside-css-selector",level:3},{value:"Augmenting existing locators",id:"augmenting-existing-locators",level:2},{value:"Selecting elements matching one of the conditions",id:"selecting-elements-matching-one-of-the-conditions",level:2},{value:"CSS selector list",id:"css-selector-list",level:3},{value:"XPath union",id:"xpath-union",level:3},{value:"Selecting elements in Shadow DOM",id:"selecting-elements-in-shadow-dom",level:2},{value:"Selecting elements based on layout",id:"selecting-elements-based-on-layout",level:2},{value:"Selecting elements by label text",id:"selecting-elements-by-label-text",level:2},{value:"XPath selectors",id:"xpath-selectors",level:2},{value:"N-th element selector",id:"n-th-element-selector",level:2},{value:"React selectors",id:"react-selectors",level:2},{value:"Vue selectors",id:"vue-selectors",level:2},{value:"Role selector",id:"role-selector",level:2},{value:"id, data-testid, data-test-id, data-test selectors",id:"id-data-testid-data-test-id-data-test-selectors",level:2},{value:"Pick n-th match from the query result",id:"pick-n-th-match-from-the-query-result",level:2},{value:"Chaining selectors",id:"chaining-selectors",level:2},{value:"Intermediate matches",id:"intermediate-matches",level:3},{value:"Best practices",id:"best-practices",level:2},{value:"Prioritize user-facing attributes",id:"prioritize-user-facing-attributes",level:3},{value:"Define explicit contract",id:"define-explicit-contract",level:3},{value:"Avoid selectors tied to implementation",id:"avoid-selectors-tied-to-implementation",level:3}],g={toc:N};function v(e){var t,a=e,{components:i}=a,c=((e,t)=>{var a={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&p.call(e,n)&&(a[n]=e[n]);return a})(a,["components"]);return(0,n.kt)("wrapper",(t=m(m({},g),c),l(t,r({components:i,mdxType:"MDXLayout"}))),(0,n.kt)("p",null,"Selectors are strings that are used to create ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator",title:"Locator"}),"Locator"),"s. Locators are used to perform actions on the elements by means of methods such as ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-click"}),"locator.click([options])"),", ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-fill"}),"locator.fill(value[, options])")," and alike."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#quick-guide"}),"Quick guide")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#text-selector"}),"Text selector")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#css-selector"}),"CSS selector")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-visible-elements"}),"Selecting visible elements")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-elements-that-contain-other-elements"}),"Selecting elements that contain other elements")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#augmenting-existing-locators"}),"Augmenting existing locators")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-elements-matching-one-of-the-conditions"}),"Selecting elements matching one of the conditions")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-elements-in-shadow-dom"}),"Selecting elements in Shadow DOM")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-elements-based-on-layout"}),"Selecting elements based on layout")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#selecting-elements-by-label-text"}),"Selecting elements by label text")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#xpath-selectors"}),"XPath selectors")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#n-th-element-selector"}),"N-th element selector")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#react-selectors"}),"React selectors")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#vue-selectors"}),"Vue selectors")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#role-selector"}),"Role selector")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#id-data-testid-data-test-id-data-test-selectors"}),"id, data-testid, data-test-id, data-test selectors")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#pick-n-th-match-from-the-query-result"}),"Pick n-th match from the query result")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#chaining-selectors"}),"Chaining selectors")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",m({parentName:"li"},{href:"#best-practices"}),"Best practices"))),(0,n.kt)("h2",m({},{id:"quick-guide"}),"Quick guide"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Text selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('text=Log in').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#text-selector"}),"text selector"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"CSS selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('button').click();\nawait page.locator('#nav-bar .contact-us-item').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css selector"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Select by attribute, with css selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('[data-test=login-button]').click();\nawait page.locator('[aria-label=\"Sign in\"]').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css selector"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Combine css and text selectors"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('article:has-text(\"Playwright\")').click();\nawait page.locator('#nav-bar >> text=Contact Us').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#text-selector"}),(0,n.kt)("inlineCode",{parentName:"a"},":has-text()")," and ",(0,n.kt)("inlineCode",{parentName:"a"},":text()")," pseudo classes"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Element that contains another, with css selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('.item-description:has(.item-promo-banner)').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#selecting-elements-that-contain-other-elements"}),(0,n.kt)("inlineCode",{parentName:"a"},":has()")," pseudo class"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Selecting based on layout, with css selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('input:right-of(:text(\"Username\"))').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#selecting-elements-based-on-layout"}),"layout selectors"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Only visible elements, with css selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('.login-button:visible').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#selecting-visible-elements"}),"selecting visible elements"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Pick n-th match"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator(':nth-match(:text(\"Buy\"), 3)').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#pick-n-th-match-from-the-query-result"}),(0,n.kt)("inlineCode",{parentName:"a"},":nth-match()")," pseudo-class"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"XPath selector"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('xpath=//button').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#xpath-selectors"}),"XPath selector"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"React selector (experimental)"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('_react=ListItem[text *= \"milk\" i]').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#react-selectors"}),"React selectors"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Vue selector (experimental)"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('_vue=list-item[text *= \"milk\" i]').click();\n")),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"#vue-selectors"}),"Vue selectors"),"."))),(0,n.kt)("h2",m({},{id:"text-selector"}),"Text selector"),(0,n.kt)("p",null,"Text selector locates elements that contain passed text."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('text=Log in').click();\n")),(0,n.kt)("p",null,"Text selector has a few variations:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"text=Log in")," - default matching is case-insensitive and searches for a substring. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"text=Log")," matches ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>Log in</button>"),"."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('text=Log in').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},'text="Log in"')," - text body can be escaped with single or double quotes to search for a text node with exact content. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},'text="Log"')," does not match ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>Log in</button>")," because ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>")," contains a single text node ",(0,n.kt)("inlineCode",{parentName:"p"},'"Log in"')," that is not equal to ",(0,n.kt)("inlineCode",{parentName:"p"},'"Log"'),". However, ",(0,n.kt)("inlineCode",{parentName:"p"},'text="Log"')," matches ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>Log<span>in</span></button>"),", because ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>")," contains a text node ",(0,n.kt)("inlineCode",{parentName:"p"},'"Log"'),". This exact mode implies case-sensitive matching, so ",(0,n.kt)("inlineCode",{parentName:"p"},'text="Download"')," will not match ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>download</button>"),"."),(0,n.kt)("p",{parentName:"li"},"Quoted body follows the usual escaping rules, e.g. use ",(0,n.kt)("inlineCode",{parentName:"p"},'\\"')," to escape double quote in a double-quoted string: ",(0,n.kt)("inlineCode",{parentName:"p"},'text="foo\\"bar"'),"."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('text=\"Log in\"').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},'"Log in"')," - selector starting and ending with a quote (either ",(0,n.kt)("inlineCode",{parentName:"p"},'"')," or ",(0,n.kt)("inlineCode",{parentName:"p"},"'"),") is assumed to be a text selector. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},'"Log in"')," is converted to ",(0,n.kt)("inlineCode",{parentName:"p"},'text="Log in"')," internally."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('\"Log in\"').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"/Log\\s*in/i")," - body can be a ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"}),"JavaScript-like regex")," wrapped in ",(0,n.kt)("inlineCode",{parentName:"p"},"/")," symbols. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"text=/Log\\s*in/i")," matches ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>Login</button>")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"<button>log IN</button>"),"."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('text=/Log\\\\s*in/i').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},'article:has-text("Playwright")')," - the ",(0,n.kt)("inlineCode",{parentName:"p"},":has-text()")," pseudo-class can be used inside a ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selector. It matches any element containing specified text somewhere inside, possibly in a child or a descendant element. Matching is case-insensitive and searches for a substring. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},'article:has-text("Playwright")')," matches ",(0,n.kt)("inlineCode",{parentName:"p"},"<article><div>Playwright</div></article>"),"."),(0,n.kt)("p",{parentName:"li"},"Note that ",(0,n.kt)("inlineCode",{parentName:"p"},":has-text()")," should be used together with other ",(0,n.kt)("inlineCode",{parentName:"p"},"css")," specifiers, otherwise it will match all the elements containing specified text, including the ",(0,n.kt)("inlineCode",{parentName:"p"},"<body>"),"."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Wrong, will match many elements including <body>\nawait page.locator(':has-text(\"Playwright\")').click();\n// Correct, only matches the <article> element\nawait page.locator('article:has-text(\"Playwright\")').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},'#nav-bar :text("Home")')," - the ",(0,n.kt)("inlineCode",{parentName:"p"},":text()")," pseudo-class can be used inside a ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selector. It matches the smallest element containing specified text. This example is equivalent to ",(0,n.kt)("inlineCode",{parentName:"p"},"text=Home"),", but inside the ",(0,n.kt)("inlineCode",{parentName:"p"},"#nav-bar")," element."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('#nav-bar :text(\"Home\")').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},'#nav-bar :text-is("Home")')," - the ",(0,n.kt)("inlineCode",{parentName:"p"},":text-is()")," pseudo-class can be used inside a ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selector, for strict text node match. This example is equivalent to ",(0,n.kt)("inlineCode",{parentName:"p"},'text="Home"')," (note quotes), but inside the ",(0,n.kt)("inlineCode",{parentName:"p"},"#nav-bar")," element."))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'#nav-bar :text-matches("reg?ex", "i")')," - the ",(0,n.kt)("inlineCode",{parentName:"li"},":text-matches()")," pseudo-class can be used inside a ",(0,n.kt)("a",m({parentName:"li"},{href:"#css-selector"}),"css")," selector, for regex-based match. This example is equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"text=/reg?ex/i"),", but inside the ",(0,n.kt)("inlineCode",{parentName:"li"},"#nav-bar")," element.")),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Matching always normalizes whitespace. For example, it turns multiple spaces into one, turns line breaks into spaces and ignores leading and trailing whitespace."))),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Input elements of the type ",(0,n.kt)("inlineCode",{parentName:"p"},"button")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"submit")," are matched by their ",(0,n.kt)("inlineCode",{parentName:"p"},"value")," instead of text content. For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"text=Log in")," matches ",(0,n.kt)("inlineCode",{parentName:"p"},'<input type=button value="Log in">'),"."))),(0,n.kt)("h2",m({},{id:"css-selector"}),"CSS selector"),(0,n.kt)("p",null,"Playwright augments standard CSS selectors in two ways:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"css")," engine pierces open shadow DOM by default."),(0,n.kt)("li",{parentName:"ul"},"Playwright adds custom pseudo-classes like ",(0,n.kt)("inlineCode",{parentName:"li"},":visible"),", ",(0,n.kt)("inlineCode",{parentName:"li"},":text")," and more.")),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('button').click();\n")),(0,n.kt)("h2",m({},{id:"selecting-visible-elements"}),"Selecting visible elements"),(0,n.kt)("p",null,"There are two ways of selecting only ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/actionability#visible"}),"visible")," elements with Playwright:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":visible")," pseudo-class in CSS selectors"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"visible=")," selector engine")),(0,n.kt)("p",null,"If you prefer your selectors to be CSS and don't want to rely on ",(0,n.kt)("a",m({parentName:"p"},{href:"#chaining-selectors"}),"chaining selectors"),", use ",(0,n.kt)("inlineCode",{parentName:"p"},":visible")," pseudo class like so: ",(0,n.kt)("inlineCode",{parentName:"p"},"input:visible"),". If you prefer combining selector engines, use ",(0,n.kt)("inlineCode",{parentName:"p"},"input >> visible=true"),". The latter allows you to combine ",(0,n.kt)("inlineCode",{parentName:"p"},"text="),", ",(0,n.kt)("inlineCode",{parentName:"p"},"xpath=")," and other selector engines with the visibility filter."),(0,n.kt)("p",null,"For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"input")," matches all the inputs on the page, while ",(0,n.kt)("inlineCode",{parentName:"p"},"input:visible")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"input >> visible=true")," only match visible inputs. This is useful to distinguish elements that are very similar but differ in visibility."),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"It's usually better to follow the ",(0,n.kt)("a",m({parentName:"p"},{href:"#best-practices"}),"best practices")," and find a more reliable way to uniquely identify the element."))),(0,n.kt)("p",null,"Consider a page with two buttons, first invisible and second visible."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-html"}),"<button style='display: none'>Invisible</button>\n<button>Visible</button>\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"This will find the first button because it is the first element in DOM order. Then it will wait for the button to become visible before clicking, or timeout while waiting:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('button').click();\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"These will find a second button, because it is visible, and then click it."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('button:visible').click();\nawait page.locator('button >> visible=true').click();\n")))),(0,n.kt)("h2",m({},{id:"selecting-elements-that-contain-other-elements"}),"Selecting elements that contain other elements"),(0,n.kt)("h3",m({},{id:"filter-by-text"}),"Filter by text"),(0,n.kt)("p",null,"Locators support an option to only select elements that have some text somewhere inside, possibly in a descendant element. Matching is case-insensitive and searches for a substring."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('button', { hasText: 'Click me' }).click();\n")),(0,n.kt)("p",null,"You can also pass a regular expression."),(0,n.kt)("h3",m({},{id:"filter-by-another-locator"}),"Filter by another locator"),(0,n.kt)("p",null,"Locators support an option to only select elements that have a descendant matching another locator."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"page.locator('article', { has: page.locator('button.subscribe') })\n")),(0,n.kt)("p",null,"Note that inner locator is matched starting from the outer one, not from the document root."),(0,n.kt)("h3",m({},{id:"inside-css-selector"}),"Inside CSS selector"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},":has()")," pseudo-class is an ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:has"}),"experimental CSS pseudo-class"),". It returns an element if any of the selectors passed as parameters relative to the :scope of the given element match at least one element."),(0,n.kt)("p",null,"Following snippet returns text content of an ",(0,n.kt)("inlineCode",{parentName:"p"},"<article>")," element that has a ",(0,n.kt)("inlineCode",{parentName:"p"},"<div class=promo>")," inside."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator('article:has(div.promo)').textContent();\n")),(0,n.kt)("h2",m({},{id:"augmenting-existing-locators"}),"Augmenting existing locators"),(0,n.kt)("p",null,"You can add filtering to any locator by passing ",(0,n.kt)("inlineCode",{parentName:"p"},":scope")," selector to ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-locator"}),"locator.locator(selector[, options])")," and specifying desired options. For example, given the locator ",(0,n.kt)("inlineCode",{parentName:"p"},"row"),' that selects some rows in the table, you can filter to just those that contain text "Hello".'),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"const row = page.locator('.row');\n// ... later on ...\nawait row.locator(':scope', { hasText: 'Hello' }).click();\n")),(0,n.kt)("h2",m({},{id:"selecting-elements-matching-one-of-the-conditions"}),"Selecting elements matching one of the conditions"),(0,n.kt)("h3",m({},{id:"css-selector-list"}),"CSS selector list"),(0,n.kt)("p",null,"Comma-separated list of CSS selectors will match all elements that can be selected by one of the selectors in that list."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),'// Clicks a <button> that has either a "Log in" or "Sign in" text.\nawait page.locator(\'button:has-text("Log in"), button:has-text("Sign in")\').click();\n')),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},":is()")," pseudo-class is an ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:is"}),"experimental CSS pseudo-class")," that may be useful for specifying a list of extra conditions on an element."),(0,n.kt)("h3",m({},{id:"xpath-union"}),"XPath union"),(0,n.kt)("p",null,"Pipe operator (",(0,n.kt)("inlineCode",{parentName:"p"},"|"),") can be used to specify multiple selectors in XPath. It will match all elements that can be selected by one of the selectors in that list."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Waits for either confirmation dialog or load spinner.\nawait page.locator(`//span[contains(@class, 'spinner__loading')]|//div[@id='confirmation']`).waitFor();\n")),(0,n.kt)("h2",m({},{id:"selecting-elements-in-shadow-dom"}),"Selecting elements in Shadow DOM"),(0,n.kt)("p",null,"Our ",(0,n.kt)("inlineCode",{parentName:"p"},"css")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"text")," engines pierce the ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM"}),"Shadow DOM")," by default:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"First they search for the elements in the light DOM in the iteration order, and"),(0,n.kt)("li",{parentName:"ul"},"Then they search recursively inside open shadow roots in the iteration order.")),(0,n.kt)("p",null,"In particular, in ",(0,n.kt)("inlineCode",{parentName:"p"},"css")," engine, any ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Descendant_combinator"}),"Descendant combinator")," or ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator"}),"Child combinator")," pierces an arbitrary number of open shadow roots, including the implicit descendant combinator at the start of the selector. It does not search inside closed shadow roots or iframes."),(0,n.kt)("p",null,"If you'd like to opt out of this behavior, you can use ",(0,n.kt)("inlineCode",{parentName:"p"},":light")," CSS extension or ",(0,n.kt)("inlineCode",{parentName:"p"},"text:light")," selector engine. They do not pierce shadow roots."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"await page.locator(':light(.article > .header)').click();\n")),(0,n.kt)("p",null,"More advanced Shadow DOM use cases:"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-html"}),"<article>\n  <div>In the light dom</div>\n  <div slot='myslot'>In the light dom, but goes into the shadow slot</div>\n  #shadow-root\n    <div class='in-the-shadow'>\n      <span class='content'>\n        In the shadow dom\n        #shadow-root\n          <li id='target'>Deep in the shadow</li>\n      </span>\n    </div>\n    <slot name='myslot'></slot>\n</article>\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Both ",(0,n.kt)("inlineCode",{parentName:"li"},'"article div"')," and ",(0,n.kt)("inlineCode",{parentName:"li"},'":light(article div)"')," match the first ",(0,n.kt)("inlineCode",{parentName:"li"},"<div>In the light dom</div>"),"."),(0,n.kt)("li",{parentName:"ul"},"Both ",(0,n.kt)("inlineCode",{parentName:"li"},'"article > div"')," and ",(0,n.kt)("inlineCode",{parentName:"li"},'":light(article > div)"')," match two ",(0,n.kt)("inlineCode",{parentName:"li"},"div")," elements that are direct children of the ",(0,n.kt)("inlineCode",{parentName:"li"},"article"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'"article .in-the-shadow"')," matches the ",(0,n.kt)("inlineCode",{parentName:"li"},"<div class='in-the-shadow'>"),", piercing the shadow root, while ",(0,n.kt)("inlineCode",{parentName:"li"},'":light(article .in-the-shadow)"')," does not match anything."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'":light(article div > span)"')," does not match anything, because both light-dom ",(0,n.kt)("inlineCode",{parentName:"li"},"div")," elements do not contain a ",(0,n.kt)("inlineCode",{parentName:"li"},"span"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'"article div > span"')," matches the ",(0,n.kt)("inlineCode",{parentName:"li"},"<span class='content'>"),", piercing the shadow root."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'"article > .in-the-shadow"')," does not match anything, because ",(0,n.kt)("inlineCode",{parentName:"li"},"<div class='in-the-shadow'>")," is not a direct child of ",(0,n.kt)("inlineCode",{parentName:"li"},"article")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'":light(article > .in-the-shadow)"')," does not match anything."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'"article li#target"')," matches the ",(0,n.kt)("inlineCode",{parentName:"li"},"<li id='target'>Deep in the shadow</li>"),", piercing two shadow roots.")),(0,n.kt)("h2",m({},{id:"selecting-elements-based-on-layout"}),"Selecting elements based on layout"),(0,n.kt)("p",null,"Sometimes, it is hard to come up with a good selector to the target element when it lacks distinctive features. In this case, using Playwright layout selectors could help. These can be combined with regular CSS to pinpoint one of the multiple choices."),(0,n.kt)("p",null,"For example, ",(0,n.kt)("inlineCode",{parentName:"p"},'input:right-of(:text("Password"))'),' matches an input field that is to the right of text "Password" - useful when the page has multiple inputs that are hard to distinguish between each other.'),(0,n.kt)("p",null,"Note that layout selector is useful in addition to something else, like ",(0,n.kt)("inlineCode",{parentName:"p"},"input"),". If you use layout selector alone, like ",(0,n.kt)("inlineCode",{parentName:"p"},':right-of(:text("Password"))'),", most likely you'll get not the input you are looking for, but some empty element in between the text and the target input."),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Layout selectors depend on the page layout and may produce unexpected results. For example, a different element could be matched when layout changes by one pixel."))),(0,n.kt)("p",null,"Layout selectors use ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect"}),"bounding client rect")," to compute distance and relative position of the elements."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":right-of(inner > selector)")," - Matches elements that are to the right of any element matching the inner selector, at any vertical position."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":left-of(inner > selector)")," - Matches elements that are to the left of any element matching the inner selector, at any vertical position."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":above(inner > selector)")," - Matches elements that are above any of the elements matching the inner selector, at any horizontal position."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":below(inner > selector)")," - Matches elements that are below any of the elements matching the inner selector, at any horizontal position."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},":near(inner > selector)")," - Matches elements that are near (within 50 CSS pixels) any of the elements matching the inner selector.")),(0,n.kt)("p",null,"Note that resulting matches are sorted by their distance to the anchor element, so you can use ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-first"}),"locator.first()")," to pick the closest one. This is only useful if you have something like a list of similar elements, where the closest is obviously the right one. However, using ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-first"}),"locator.first()")," in other cases most likely won't work as expected - it will not target the element you are searching for, but some other element that happens to be the closest like a random empty ",(0,n.kt)("inlineCode",{parentName:"p"},"<div>"),", or an element that is scrolled out and is not currently visible."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Fill an input to the right of \"Username\".\nawait page.locator('input:right-of(:text(\"Username\"))').fill('value');\n\n// Click a button near the promo card.\nawait page.locator('button:near(.promo-card)').click();\n\n// Click the radio input in the list closest to the \"Label 3\".\nawait page.locator('[type=radio]:left-of(:text(\"Label 3\"))').first().click();\n")),(0,n.kt)("p",null,"All layout selectors support optional maximum pixel distance as the last argument. For example ",(0,n.kt)("inlineCode",{parentName:"p"},'button:near(:text("Username"), 120)'),' matches a button that is at most 120 pixels away from the element with the text "Username".'),(0,n.kt)("h2",m({},{id:"selecting-elements-by-label-text"}),"Selecting elements by label text"),(0,n.kt)("p",null,"Targeted input actions in Playwright automatically distinguish between labels and controls, so you can target the label to perform an action on the associated control."),(0,n.kt)("p",null,"For example, consider the following DOM structure: ",(0,n.kt)("inlineCode",{parentName:"p"},'<label for="password">Password:</label><input id="password" type="password">'),". You can target the label with something like ",(0,n.kt)("inlineCode",{parentName:"p"},"text=Password")," and perform the following actions on the input instead:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"click")," will click the label and automatically focus the input field;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"fill")," will fill the input field;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"inputValue")," will return the value of the input field;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"selectText")," will select text in the input field;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"setInputFiles")," will set files for the input field with ",(0,n.kt)("inlineCode",{parentName:"li"},"type=file"),";"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"selectOption")," will select an option from the select box.")),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Fill the input by targeting the label.\nawait page.locator('text=Password').fill('secret');\n")),(0,n.kt)("p",null,"However, other methods will target the label itself, for example ",(0,n.kt)("inlineCode",{parentName:"p"},"textContent")," will return the text content of the label, not the input field."),(0,n.kt)("h2",m({},{id:"xpath-selectors"}),"XPath selectors"),(0,n.kt)("p",null,"XPath selectors are equivalent to calling ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en/docs/Web/API/Document/evaluate"}),(0,n.kt)("inlineCode",{parentName:"a"},"Document.evaluate")),". Example: ",(0,n.kt)("inlineCode",{parentName:"p"},"xpath=//html/body"),"."),(0,n.kt)("p",null,"Selector starting with ",(0,n.kt)("inlineCode",{parentName:"p"},"//")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"..")," is assumed to be an xpath selector. For example, Playwright converts ",(0,n.kt)("inlineCode",{parentName:"p"},"'//html/body'")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"'xpath=//html/body'"),"."),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},(0,n.kt)("inlineCode",{parentName:"p"},"xpath")," does not pierce shadow roots"))),(0,n.kt)("h2",m({},{id:"n-th-element-selector"}),"N-th element selector"),(0,n.kt)("p",null,"You can narrow down query to the n-th match using the ",(0,n.kt)("inlineCode",{parentName:"p"},"nth=")," selector. Unlike CSS's nth-match, provided index is 0-based."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Click first button\nawait page.locator('button >> nth=0').click();\n\n// Click last button\nawait page.locator('button >> nth=-1').click();\n")),(0,n.kt)("h2",m({},{id:"react-selectors"}),"React selectors"),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"React selectors are experimental and prefixed with ",(0,n.kt)("inlineCode",{parentName:"p"},"_"),". The functionality might change in future."))),(0,n.kt)("p",null,"React selectors allow selecting elements by their component name and property values. The syntax is very similar to ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors"}),"attribute selectors")," and supports all attribute selector operators."),(0,n.kt)("p",null,"In react selectors, component names are transcribed with ",(0,n.kt)("strong",{parentName:"p"},"CamelCase"),"."),(0,n.kt)("p",null,"Selector examples:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"match by ",(0,n.kt)("strong",{parentName:"li"},"component"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=BookItem")),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"exact property value"),", case-sensitive: ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=BookItem[author = "Steven King"]')),(0,n.kt)("li",{parentName:"ul"},"match by property value only, ",(0,n.kt)("strong",{parentName:"li"},"case-insensitive"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=[author = "steven king" i]')),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"truthy property value"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=MyButton[enabled]")),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"boolean value"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=MyButton[enabled = false]")),(0,n.kt)("li",{parentName:"ul"},"match by property ",(0,n.kt)("strong",{parentName:"li"},"value substring"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=[author *= "King"]')),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"multiple properties"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=BookItem[author *= "king" i][year = 1990]')),(0,n.kt)("li",{parentName:"ul"},"match by ",(0,n.kt)("strong",{parentName:"li"},"nested")," property value: ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=[some.nested.value = 12]")),(0,n.kt)("li",{parentName:"ul"},"match by component and property value ",(0,n.kt)("strong",{parentName:"li"},"prefix"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=BookItem[author ^= "Steven"]')),(0,n.kt)("li",{parentName:"ul"},"match by component and property value ",(0,n.kt)("strong",{parentName:"li"},"suffix"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_react=BookItem[author $= "Steven"]')),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"key"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=BookItem[key = '2']")),(0,n.kt)("li",{parentName:"ul"},"match by property value ",(0,n.kt)("strong",{parentName:"li"},"regex"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_react=[author = /Steven(\\\\s+King)?/i]"))),(0,n.kt)("p",null,"To find React element names in a tree use ",(0,n.kt)("a",m({parentName:"p"},{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"}),"React DevTools"),"."),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"React selectors support React 15 and above."))),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"React selectors, as well as ",(0,n.kt)("a",m({parentName:"p"},{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"}),"React DevTools"),", only work against ",(0,n.kt)("strong",{parentName:"p"},"unminified")," application builds."))),(0,n.kt)("h2",m({},{id:"vue-selectors"}),"Vue selectors"),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Vue selectors are experimental and prefixed with ",(0,n.kt)("inlineCode",{parentName:"p"},"_"),". The functionality might change in future."))),(0,n.kt)("p",null,"Vue selectors allow selecting elements by their component name and property values. The syntax is very similar to ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors"}),"attribute selectors")," and supports all attribute selector operators."),(0,n.kt)("p",null,"In Vue selectors, component names are transcribed with ",(0,n.kt)("strong",{parentName:"p"},"kebab-case"),"."),(0,n.kt)("p",null,"Selector examples:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"match by ",(0,n.kt)("strong",{parentName:"li"},"component"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_vue=book-item")),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"exact property value"),", case-sensitive: ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=book-item[author = "Steven King"]')),(0,n.kt)("li",{parentName:"ul"},"match by property value only, ",(0,n.kt)("strong",{parentName:"li"},"case-insensitive"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=[author = "steven king" i]')),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"truthy property value"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_vue=my-button[enabled]")),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"boolean value"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_vue=my-button[enabled = false]")),(0,n.kt)("li",{parentName:"ul"},"match by property ",(0,n.kt)("strong",{parentName:"li"},"value substring"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=[author *= "King"]')),(0,n.kt)("li",{parentName:"ul"},"match by component and ",(0,n.kt)("strong",{parentName:"li"},"multiple properties"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=book-item[author *= "king" i][year = 1990]')),(0,n.kt)("li",{parentName:"ul"},"match by ",(0,n.kt)("strong",{parentName:"li"},"nested")," property value: ",(0,n.kt)("inlineCode",{parentName:"li"},"_vue=[some.nested.value = 12]")),(0,n.kt)("li",{parentName:"ul"},"match by component and property value ",(0,n.kt)("strong",{parentName:"li"},"prefix"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=book-item[author ^= "Steven"]')),(0,n.kt)("li",{parentName:"ul"},"match by component and property value ",(0,n.kt)("strong",{parentName:"li"},"suffix"),": ",(0,n.kt)("inlineCode",{parentName:"li"},'_vue=book-item[author $= "Steven"]')),(0,n.kt)("li",{parentName:"ul"},"match by property value ",(0,n.kt)("strong",{parentName:"li"},"regex"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"_vue=[author = /Steven(\\\\s+King)?/i]"))),(0,n.kt)("p",null,"To find Vue element names in a tree use ",(0,n.kt)("a",m({parentName:"p"},{href:"https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en"}),"Vue DevTools"),"."),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Vue selectors support Vue2 and above."))),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Vue selectors, as well as ",(0,n.kt)("a",m({parentName:"p"},{href:"https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi"}),"Vue DevTools"),", only work against ",(0,n.kt)("strong",{parentName:"p"},"unminified")," application builds."))),(0,n.kt)("h2",m({},{id:"role-selector"}),"Role selector"),(0,n.kt)("p",null,"Role selector allows selecting elements by their ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#roles"}),"ARIA role"),", ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-attributes"}),"ARIA attributes")," and ",(0,n.kt)("a",m({parentName:"p"},{href:"https://w3c.github.io/accname/#dfn-accessible-name"}),"accessible name"),". Note that role selector ",(0,n.kt)("strong",{parentName:"p"},"does not replace")," accessibility audits and conformance tests, but rather gives early feedback about the ARIA guidelines."),(0,n.kt)("p",null,"The syntax is very similar to ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors"}),"CSS attribute selectors"),". For example, ",(0,n.kt)("inlineCode",{parentName:"p"},'role=button[name="Click me"][pressed]'),' selects a pressed button that has accessible name "Click me".'),(0,n.kt)("p",null,"Note that many html elements have an implicitly ",(0,n.kt)("a",m({parentName:"p"},{href:"https://w3c.github.io/html-aam/#html-element-role-mappings"}),"defined role")," that is recognized by the role selector. You can find all the ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#role_definitions"}),"supported roles here"),". ARIA guidelines ",(0,n.kt)("strong",{parentName:"p"},"do not recommend")," duplicating implicit roles and attributes by setting ",(0,n.kt)("inlineCode",{parentName:"p"},"role")," and/or ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-*")," attributes to default values."),(0,n.kt)("p",null,"Attributes supported by the role selector:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"checked")," - an attribute that is usually set by ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-checked")," or native ",(0,n.kt)("inlineCode",{parentName:"p"},"<input type=checkbox>")," controls. Available values for checked are ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," and ",(0,n.kt)("inlineCode",{parentName:"p"},'"mixed"'),". Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=checkbox[checked=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=checkbox[checked]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=checkbox[checked=false]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'role=checkbox[checked="mixed"]'))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-checked"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-checked")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"disabled")," - a boolean attribute that is usually set by ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-disabled")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"disabled"),". Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[disabled=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=button[disabled]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[disabled=false]"))),(0,n.kt)("p",{parentName:"li"},"Note that unlike most other attributes, ",(0,n.kt)("inlineCode",{parentName:"p"},"disabled")," is inherited through the DOM hierarchy. Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-disabled"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-disabled")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"expanded")," - a boolean attribute that is usually set by ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-expanded"),". Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[expanded=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=button[expanded]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[expanded=false]"))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-expanded"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-expanded")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"include-hidden")," - a boolean attribute that controls whether hidden elements are matched. By default, only non-hidden elements, as ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion"}),"defined by ARIA"),", are matched by role selector. With ",(0,n.kt)("inlineCode",{parentName:"p"},"[include-hidden]"),", both hidden and non-hidden elements are matched. Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[include-hidden=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=button[include-hidden]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[include-hidden=false]"))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-hidden"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-hidden")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"level")," - a number attribute that is usually present for roles ",(0,n.kt)("inlineCode",{parentName:"p"},"heading"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"listitem"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"row"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"treeitem"),", with default values for ",(0,n.kt)("inlineCode",{parentName:"p"},"<h1>-<h6>")," elements. Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=heading[level=1]"))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-level"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-level")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"name")," - a string attribute that matches ",(0,n.kt)("a",m({parentName:"p"},{href:"https://w3c.github.io/accname/#dfn-accessible-name"}),"accessible name"),". Supports attribute operators like ",(0,n.kt)("inlineCode",{parentName:"p"},"=")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"*="),", and regular expressions."),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'role=button[name="Click me"]')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'role=button[name*="Click"]')),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[name=/Click( me)?/]"))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://w3c.github.io/accname/#dfn-accessible-name"}),"accessible name"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"pressed")," - an attribute that is usually set by ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-pressed"),". Available values for pressed are ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," and ",(0,n.kt)("inlineCode",{parentName:"p"},'"mixed"'),". Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[pressed=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=button[pressed]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button[pressed=false]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'role=button[pressed="mixed"]'))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-pressed"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-pressed")),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"p"},"selected")," - a boolean attribute that is usually set by ",(0,n.kt)("inlineCode",{parentName:"p"},"aria-selected"),". Examples:"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=option[selected=true]"),", equivalent to ",(0,n.kt)("inlineCode",{parentName:"li"},"role=option[selected]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=option[selected=false]"))),(0,n.kt)("p",{parentName:"li"},"Learn more about ",(0,n.kt)("a",m({parentName:"p"},{href:"https://www.w3.org/TR/wai-aria-1.2/#aria-selected"}),(0,n.kt)("inlineCode",{parentName:"a"},"aria-selected")),"."))),(0,n.kt)("p",null,"Examples:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=button")," matches all buttons;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},'role=button[name="Click me"]'),' matches buttons with "Click me" accessible name;'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"role=checkbox[checked][include-hidden]")," matches checkboxes that are checked, including those that are currently hidden.")),(0,n.kt)("h2",m({},{id:"id-data-testid-data-test-id-data-test-selectors"}),"id, data-testid, data-test-id, data-test selectors"),(0,n.kt)("p",null,"Playwright supports shorthand for selecting elements using certain attributes. Currently, only the following attributes are supported:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"id")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"data-testid")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"data-test-id")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"data-test"))),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Fill an input with the id \"username\"\nawait page.locator('id=username').fill('value');\n\n// Click an element with data-test-id \"submit\"\nawait page.locator('data-test-id=submit').click();\n")),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Attribute selectors are not CSS selectors, so anything CSS-specific like ",(0,n.kt)("inlineCode",{parentName:"p"},":enabled")," is not supported. For more features, use a proper ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selector, e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},'css=[data-test="login"]:enabled'),"."))),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Attribute selectors pierce shadow DOM. To opt-out from this behavior, use ",(0,n.kt)("inlineCode",{parentName:"p"},":light")," suffix after attribute, for example ",(0,n.kt)("inlineCode",{parentName:"p"},"page.locator('data-test-id:light=submit').click()")))),(0,n.kt)("h2",m({},{id:"pick-n-th-match-from-the-query-result"}),"Pick n-th match from the query result"),(0,n.kt)("p",null,"Sometimes page contains a number of similar elements, and it is hard to select a particular one. For example:"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-html"}),"<section> <button>Buy</button> </section>\n<article><div> <button>Buy</button> </div></article>\n<div><div> <button>Buy</button> </div></div>\n")),(0,n.kt)("p",null,"In this case, ",(0,n.kt)("inlineCode",{parentName:"p"},':nth-match(:text("Buy"), 3)')," will select the third button from the snippet above. Note that index is one-based."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),'// Click the third "Buy" button\nawait page.locator(\':nth-match(:text("Buy"), 3)\').click();\n')),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},":nth-match()")," is also useful to wait until a specified number of elements appear, using ",(0,n.kt)("a",m({parentName:"p"},{href:"/docs/next/api/class-locator#locator-wait-for"}),"locator.waitFor([options])"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// Wait until all three buttons are visible\nawait page.locator(':nth-match(:text(\"Buy\"), 3)').waitFor();\n")),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"Unlike ",(0,n.kt)("a",m({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child"}),(0,n.kt)("inlineCode",{parentName:"a"},":nth-child()")),", elements do not have to be siblings, they could be anywhere on the page. In the snippet above, all three buttons match ",(0,n.kt)("inlineCode",{parentName:"p"},':text("Buy")')," selector, and ",(0,n.kt)("inlineCode",{parentName:"p"},":nth-match()")," selects the third button."))),(0,n.kt)("div",m({},{className:"admonition admonition-note alert alert--secondary"}),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-heading"}),(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",m({parentName:"h5"},{className:"admonition-icon"}),(0,n.kt)("svg",m({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),(0,n.kt)("path",m({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),(0,n.kt)("div",m({parentName:"div"},{className:"admonition-content"}),(0,n.kt)("p",{parentName:"div"},"It is usually possible to distinguish elements by some attribute or text content. In this case, prefer using ",(0,n.kt)("a",m({parentName:"p"},{href:"#text-selector"}),"text")," or ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selectors over the ",(0,n.kt)("inlineCode",{parentName:"p"},":nth-match()"),"."))),(0,n.kt)("h2",m({},{id:"chaining-selectors"}),"Chaining selectors"),(0,n.kt)("p",null,"Selectors defined as ",(0,n.kt)("inlineCode",{parentName:"p"},"engine=body")," or in short-form can be combined with the ",(0,n.kt)("inlineCode",{parentName:"p"},">>")," token, e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"selector1 >> selector2 >> selectors3"),". When selectors are chained, the next one is queried relative to the previous one's result."),(0,n.kt)("p",null,"For example,"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{}),"css=article >> css=.bar > .baz >> css=span[attr=value]\n")),(0,n.kt)("p",null,"is equivalent to"),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"document\n  .querySelector('article')\n  .querySelector('.bar > .baz')\n  .querySelector('span[attr=value]')\n")),(0,n.kt)("p",null,"If a selector needs to include ",(0,n.kt)("inlineCode",{parentName:"p"},">>")," in the body, it should be escaped inside a string to not be confused with chaining separator, e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},'text="some >> text"'),"."),(0,n.kt)("h3",m({},{id:"intermediate-matches"}),"Intermediate matches"),(0,n.kt)("p",null,"By default, chained selectors resolve to an element queried by the last selector. A selector can be prefixed with ",(0,n.kt)("inlineCode",{parentName:"p"},"*")," to capture elements that are queried by an intermediate selector."),(0,n.kt)("p",null,"For example, ",(0,n.kt)("inlineCode",{parentName:"p"},"css=article >> text=Hello")," captures the element with the text ",(0,n.kt)("inlineCode",{parentName:"p"},"Hello"),", and ",(0,n.kt)("inlineCode",{parentName:"p"},"*css=article >> text=Hello")," (note the ",(0,n.kt)("inlineCode",{parentName:"p"},"*"),") captures the ",(0,n.kt)("inlineCode",{parentName:"p"},"article")," element that contains some element with the text ",(0,n.kt)("inlineCode",{parentName:"p"},"Hello"),"."),(0,n.kt)("h2",m({},{id:"best-practices"}),"Best practices"),(0,n.kt)("p",null,"The choice of selectors determines the resiliency of automation scripts. To reduce the maintenance burden, we recommend prioritizing user-facing attributes and explicit contracts."),(0,n.kt)("h3",m({},{id:"prioritize-user-facing-attributes"}),"Prioritize user-facing attributes"),(0,n.kt)("p",null,"Attributes like text content, input placeholder, accessibility roles and labels are user-facing attributes that change rarely. These attributes are not impacted by DOM structure changes."),(0,n.kt)("p",null,"The following examples use the built-in ",(0,n.kt)("a",m({parentName:"p"},{href:"#text-selector"}),"text")," and ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," selector engines."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// queries \"Login\" text selector\nawait page.locator('text=\"Login\"').click();\nawait page.locator('\"Login\"').click(); // short-form\n\n// queries \"Search GitHub\" placeholder attribute\nawait page.locator('css=[placeholder=\"Search GitHub\"]').fill('query');\nawait page.locator('[placeholder=\"Search GitHub\"]').fill('query'); // short-form\n\n// queries \"Close\" accessibility label\nawait page.locator('css=[aria-label=\"Close\"]').click();\nawait page.locator('[aria-label=\"Close\"]').click(); // short-form\n\n// combine role and text queries\nawait page.locator('css=nav >> text=Login').click();\n")),(0,n.kt)("h3",m({},{id:"define-explicit-contract"}),"Define explicit contract"),(0,n.kt)("p",null,"When user-facing attributes change frequently, it is recommended to use explicit test ids, like ",(0,n.kt)("inlineCode",{parentName:"p"},"data-test-id"),". These ",(0,n.kt)("inlineCode",{parentName:"p"},"data-*")," attributes are supported by the ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," and ",(0,n.kt)("a",m({parentName:"p"},{href:"#id-data-testid-data-test-id-data-test-selectors"}),"id selectors"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-html"}),'<button data-test-id="directions">Itin\xe9raire</button>\n')),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// queries data-test-id attribute with css\nawait page.locator('css=[data-test-id=directions]').click();\nawait page.locator('[data-test-id=directions]').click(); // short-form\n\n// queries data-test-id with id\nawait page.locator('data-test-id=directions').click();\n")),(0,n.kt)("h3",m({},{id:"avoid-selectors-tied-to-implementation"}),"Avoid selectors tied to implementation"),(0,n.kt)("p",null,(0,n.kt)("a",m({parentName:"p"},{href:"#xpath-selectors"}),"xpath")," and ",(0,n.kt)("a",m({parentName:"p"},{href:"#css-selector"}),"css")," can be tied to the DOM structure or implementation. These selectors can break when the DOM structure changes."),(0,n.kt)("pre",null,(0,n.kt)("code",m({parentName:"pre"},{className:"language-js"}),"// avoid long css or xpath chains\nawait page.locator('#tsf > div:nth-child(2) > div.A8SBwf > div.RNNXgb > div > div.a4bIc > input').click();\nawait page.locator('//*[@id=\"tsf\"]/div[2]/div[1]/div[1]/div/div[2]/input').click();\n")))}v.isMDXComponent=!0}}]);