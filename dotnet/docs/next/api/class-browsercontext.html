<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/class-browsercontext">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Playwright .NET" href="/dotnet/opensearch.xml">
<script src="/dotnet/js/redirection.js"></script><title data-rh="true">BrowserContext | Playwright .NET</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playwright.dev/dotnet/docs/next/api/class-browsercontext"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BrowserContext | Playwright .NET"><meta data-rh="true" name="description" content="* extends: [EventEmitter]"><meta data-rh="true" property="og:description" content="* extends: [EventEmitter]"><link data-rh="true" rel="icon" href="/dotnet/img/playwright-logo.svg"><link data-rh="true" rel="canonical" href="https://playwright.dev/dotnet/docs/next/api/class-browsercontext"><link data-rh="true" rel="alternate" href="https://playwright.dev/dotnet/docs/next/api/class-browsercontext" hreflang="en"><link data-rh="true" rel="alternate" href="https://playwright.dev/dotnet/docs/next/api/class-browsercontext" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K09ICMCV6X-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/dotnet/assets/css/styles.72959dec.css">
<link rel="preload" href="/dotnet/assets/js/runtime~main.5bdf0e71.js" as="script">
<link rel="preload" href="/dotnet/assets/js/main.08bbbed7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dotnet/"><div class="navbar__logo"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Playwright for .NET</b></a><a class="navbar__item navbar__link" href="/dotnet/docs/next/intro">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/dotnet/docs/next/api/class-playwright">API</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/dotnet/docs/next/intro">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/dotnet/docs/next/api/class-browsercontext">Next</a></li><li><a class="dropdown__link" href="/dotnet/docs/api/class-browsercontext">1.23</a></li><li><a class="dropdown__link" href="/dotnet/docs/1.22/api/class-browsercontext">1.22</a></li><li><a class="dropdown__link" href="/dotnet/docs/1.21/api/class-browsercontext">1.21</a></li><li><a class="dropdown__link" href="/dotnet/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">.NET</a><ul class="dropdown__menu"><li><a href="/dotnet/docs/next/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">.NET</a></li><li><a href="/docs/next/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link">Node.js</a></li><li><a href="/python/docs/next/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link">Python</a></li><li><a href="/java/docs/next/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link">Java</a></li></ul></div><a class="navbar__item navbar__link" href="/dotnet/community/welcome">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/playwright-dotnet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/dotnet/docs/next/api/class-playwright">API reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-playwright">Playwright</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/dotnet/docs/next/api/class-browser">Classes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-browser">Browser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dotnet/docs/next/api/class-browsercontext">BrowserContext</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-browsertype">BrowserType</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-consolemessage">ConsoleMessage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-dialog">Dialog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-download">Download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-elementhandle">ElementHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-filechooser">FileChooser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-frame">Frame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-framelocator">FrameLocator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-jshandle">JSHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-keyboard">Keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-locator">Locator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-mouse">Mouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-page">Page</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-request">Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-response">Response</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-route">Route</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-selectors">Selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-timeouterror">TimeoutError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-touchscreen">Touchscreen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-tracing">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-video">Video</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-websocket">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-websocketframe">WebSocketFrame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/api/class-worker">Worker</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Playwright .NET<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/dotnet/docs/api/class-browsercontext">latest version</a></b> (<!-- -->1.23<!-- -->).</div></div><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dotnet/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">API reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Classes</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">BrowserContext</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>BrowserContext</h1></header><ul><li>extends: <!-- -->[EventEmitter]</li></ul><p>BrowserContexts provide a way to operate multiple independent browser sessions.</p><p>If a page opens another page, e.g. with a <code>window.open</code> call, the popup will belong to the parent page&#x27;s browser context.</p><p>Playwright allows creating &quot;incognito&quot; browser contexts with <a href="/dotnet/docs/next/api/class-browser#browser-new-context">Browser.NewContextAsync(options)</a> method. &quot;Incognito&quot; browser contexts don&#x27;t write any browsing data to disk.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> playwright </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CreateAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> browser </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Firefox</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">LaunchAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">BrowserTypeLaunchOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Headless </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Create a new incognito browser context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Create a new page inside context.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">GotoAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://bing.com&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Dispose context once it is no longer needed.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CloseAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-close">event BrowserContext.Close</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-page">event BrowserContext.Page</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-request">event BrowserContext.Request</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-request-failed">event BrowserContext.RequestFailed</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-request-finished">event BrowserContext.RequestFinished</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-response">event BrowserContext.Response</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-service-worker">event BrowserContext.ServiceWorker</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-add-cookies">BrowserContext.AddCookiesAsync(cookies)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-add-init-script">BrowserContext.AddInitScriptAsync(script)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-browser">BrowserContext.Browser</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-clear-cookies">BrowserContext.ClearCookiesAsync()</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-clear-permissions">BrowserContext.ClearPermissionsAsync()</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-close">BrowserContext.CloseAsync()</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-cookies">BrowserContext.CookiesAsync(urls)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-expose-binding">BrowserContext.ExposeBindingAsync(name, callback, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-expose-function">BrowserContext.ExposeFunctionAsync(name, callback)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-grant-permissions">BrowserContext.GrantPermissionsAsync(permissions, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-new-page">BrowserContext.NewPageAsync()</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-pages">BrowserContext.Pages</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route-from-har">BrowserContext.RouteFromHARAsync(har, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-wait-for-page">BrowserContext.RunAndWaitForPageAsync(action, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-service-workers">BrowserContext.ServiceWorkers</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-navigation-timeout">BrowserContext.SetDefaultNavigationTimeout(timeout)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-timeout">BrowserContext.SetDefaultTimeout(timeout)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-extra-http-headers">BrowserContext.SetExtraHTTPHeadersAsync(headers)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-geolocation">BrowserContext.SetGeolocationAsync(geolocation)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-offline">BrowserContext.SetOfflineAsync(offline)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-storage-state">BrowserContext.StorageStateAsync(options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-unroute">BrowserContext.UnrouteAsync(url, handler)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-wait-for-page">BrowserContext.WaitForPageAsync(action, options)</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-request">BrowserContext.APIRequest</a></li><li><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-tracing">BrowserContext.Tracing</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-close">event BrowserContext.Close<a class="hash-link" href="#browser-context-event-close" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>type: <!-- -->&lt;<a title="BrowserContext" href="/dotnet/docs/next/api/class-browsercontext">BrowserContext</a>&gt;</li></ul><p>Emitted when Browser context gets closed. This might happen because of one of the following:</p><ul><li>Browser context is closed.</li><li>Browser application is closed or crashed.</li><li>The <a href="/dotnet/docs/next/api/class-browser#browser-close">Browser.CloseAsync()</a> method was called.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-page">event BrowserContext.Page<a class="hash-link" href="#browser-context-event-page" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>type: <!-- -->&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>&gt;</li></ul><p>The event is emitted when a new Page is created in the BrowserContext. The page may still be loading. The event will also fire for popup pages. See also <a href="/dotnet/docs/next/api/class-page#page-event-popup">event Page.Popup</a> to receive events about popups relevant to a specific page.</p><p>The earliest moment that page is available is when it has navigated to the initial url. For example, when opening a popup with <code>window.open(&#x27;http://example.com&#x27;)</code>, this event will fire when the network request to &quot;<a href="http://example.com%22" target="_blank" rel="noopener noreferrer">http://example.com&quot;</a> is done and its response has started loading in the popup.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> popup </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">RunAndWaitForPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Locator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;a&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ClickAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">WriteLine</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> popup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token generic-method function" style="color:rgb(80, 250, 123)">EvaluateAsync</span><span class="token generic-method generic class-name punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generic-method generic class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token generic-method generic class-name punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;location.href&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Use <a href="/dotnet/docs/next/api/class-page#page-wait-for-load-state">Page.WaitForLoadStateAsync(state, options)</a> to wait until the page gets to a particular state (you should not need it in most cases).</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-request">event BrowserContext.Request<a class="hash-link" href="#browser-context-event-request" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.12</font><ul><li>type: <!-- -->&lt;<a title="Request" href="/dotnet/docs/next/api/class-request">Request</a>&gt;</li></ul><p>Emitted when a request is issued from any pages created through this context. The <a title="Request" href="/dotnet/docs/next/api/class-request">request</a> object is read-only. To only listen for requests from a particular page, use <a href="/dotnet/docs/next/api/class-page#page-event-request">event Page.Request</a>.</p><p>In order to intercept and mutate requests, see <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a> or <a href="/dotnet/docs/next/api/class-page#page-route">Page.RouteAsync(url, handler, options)</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-request-failed">event BrowserContext.RequestFailed<a class="hash-link" href="#browser-context-event-request-failed" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.12</font><ul><li>type: <!-- -->&lt;<a title="Request" href="/dotnet/docs/next/api/class-request">Request</a>&gt;</li></ul><p>Emitted when a request fails, for example by timing out. To only listen for failed requests from a particular page, use <a href="/dotnet/docs/next/api/class-page#page-event-request-failed">event Page.RequestFailed</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>HTTP Error responses, such as 404 or 503, are still successful responses from HTTP standpoint, so request will complete with <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-request-finished">event BrowserContext.RequestFinished</a> event and not with <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-event-request-failed">event BrowserContext.RequestFailed</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-request-finished">event BrowserContext.RequestFinished<a class="hash-link" href="#browser-context-event-request-finished" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.12</font><ul><li>type: <!-- -->&lt;<a title="Request" href="/dotnet/docs/next/api/class-request">Request</a>&gt;</li></ul><p>Emitted when a request finishes successfully after downloading the response body. For a successful response, the sequence of events is <code>request</code>, <code>response</code> and <code>requestfinished</code>. To listen for successful requests from a particular page, use <a href="/dotnet/docs/next/api/class-page#page-event-request-finished">event Page.RequestFinished</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-response">event BrowserContext.Response<a class="hash-link" href="#browser-context-event-response" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.12</font><ul><li>type: <!-- -->&lt;<a title="Response" href="/dotnet/docs/next/api/class-response">Response</a>&gt;</li></ul><p>Emitted when <a title="Response" href="/dotnet/docs/next/api/class-response">response</a> status and headers are received for a request. For a successful response, the sequence of events is <code>request</code>, <code>response</code> and <code>requestfinished</code>. To listen for response events from a particular page, use <a href="/dotnet/docs/next/api/class-page#page-event-response">event Page.Response</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-event-service-worker">event BrowserContext.ServiceWorker<a class="hash-link" href="#browser-context-event-service-worker" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.11</font><ul><li>type: <!-- -->&lt;<a title="Worker" href="/dotnet/docs/next/api/class-worker">Worker</a>&gt;</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Service workers are only supported on Chromium-based browsers.</p></div></div><p>Emitted when new service worker is created in the context.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-add-cookies">BrowserContext.AddCookiesAsync(cookies)<a class="hash-link" href="#browser-context-add-cookies" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>cookies</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-cookies-option-cookies"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>&lt;<code>Cookie</code>&gt;<!-- -->&gt;<a href="#browser-context-add-cookies-option-cookies" class="list-anchor">#</a><ul><li><code>Name</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>Value</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>Url</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?<!-- -->&gt;<!-- --> either url or domain / path are required. Optional.</li><li><code>Domain</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?<!-- -->&gt;<!-- --> either url or domain / path are required Optional.</li><li><code>Path</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?<!-- -->&gt;<!-- --> either url or domain / path are required Optional.</li><li><code>Expires</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>?<!-- -->&gt;<!-- --> Unix time in seconds. Optional.</li><li><code>HttpOnly</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>?<!-- -->&gt;<!-- --> Optional.</li><li><code>Secure</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>?<!-- -->&gt;<!-- --> Optional.</li><li><code>SameSite</code> <!-- -->&lt;<code>enum SameSiteAttribute { Strict, Lax, None }?</code>&gt;<!-- --> Optional.</li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-cookies-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-add-cookies-return" class="list-anchor">#</a></li></ul><p>Adds cookies into this browser context. All pages within this context will have these cookies installed. Cookies can be obtained via <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-cookies">BrowserContext.CookiesAsync(urls)</a>.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AddCookiesAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> cookie1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cookie2 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-add-init-script">BrowserContext.AddInitScriptAsync(script)<a class="hash-link" href="#browser-context-add-init-script" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>script</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-init-script-option-script"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- --> Script to be evaluated in all pages in the browser context.<a href="#browser-context-add-init-script-option-script" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-init-script-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-add-init-script-return" class="list-anchor">#</a></li></ul><p>Adds a script which would be evaluated in one of the following scenarios:</p><ul><li>Whenever a page is created in the browser context or is navigated.</li><li>Whenever a child frame is attached or navigated in any page in the browser context. In this case, the script is evaluated in the context of the newly attached frame.</li></ul><p>The script is evaluated after the document was created but before any of its scripts were run. This is useful to amend the JavaScript environment, e.g. to seed <code>Math.random</code>.</p><p>An example of overriding <code>Math.random</code> before the page loads:</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// preload.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(80, 250, 123)">random</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token number">42</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AddInitScriptAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">BrowserContextAddInitScriptOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> ScriptPath </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;preload.js&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The order of evaluation of multiple scripts installed via <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-add-init-script">BrowserContext.AddInitScriptAsync(script)</a> and <a href="/dotnet/docs/next/api/class-page#page-add-init-script">Page.AddInitScriptAsync(script)</a> is not defined.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-browser">BrowserContext.Browser<a class="hash-link" href="#browser-context-browser" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-browser-return"></a> <!-- -->&lt;<a title="Browser" href="/dotnet/docs/next/api/class-browser">Browser</a>?<!-- -->&gt;<a href="#browser-context-browser-return" class="list-anchor">#</a></li></ul><p>Returns the browser instance of the context. If it was launched as a persistent context null gets returned.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-clear-cookies">BrowserContext.ClearCookiesAsync()<a class="hash-link" href="#browser-context-clear-cookies" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-cookies-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-clear-cookies-return" class="list-anchor">#</a></li></ul><p>Clears context cookies.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-clear-permissions">BrowserContext.ClearPermissionsAsync()<a class="hash-link" href="#browser-context-clear-permissions" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-permissions-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-clear-permissions-return" class="list-anchor">#</a></li></ul><p>Clears all permission overrides for the browser context.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">GrantPermissionsAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;clipboard-read&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Alternatively, you can use the helper class ContextPermissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//  to specify the permissions...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// do stuff ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ClearPermissionsAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-close">BrowserContext.CloseAsync()<a class="hash-link" href="#browser-context-close" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-close-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-close-return" class="list-anchor">#</a></li></ul><p>Closes the browser context. All the pages that belong to the browser context will be closed.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The default browser context cannot be closed.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-cookies">BrowserContext.CookiesAsync(urls)<a class="hash-link" href="#browser-context-cookies" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>urls</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-cookies-option-urls"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>?&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- -->&gt;<!-- --> Optional list of URLs.<a href="#browser-context-cookies-option-urls" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-cookies-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>&lt;<code>Cookie</code>&gt;<!-- -->&gt;<a href="#browser-context-cookies-return" class="list-anchor">#</a><ul><li><code>name</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>value</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>domain</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>path</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li><li><code>expires</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>&gt;<!-- --> Unix time in seconds.</li><li><code>httpOnly</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>&gt;</li><li><code>secure</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>&gt;</li><li><code>sameSite</code> <!-- -->&lt;<code>enum SameSiteAttribute { Strict, Lax, None }</code>&gt;</li></ul></li></ul><p>If no URLs are specified, this method returns all cookies. If URLs are specified, only cookies that affect those URLs are returned.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-expose-binding">BrowserContext.ExposeBindingAsync(name, callback, options)<a class="hash-link" href="#browser-context-expose-binding" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>name</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-name"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- --> Name of the function on the window object.<a href="#browser-context-expose-binding-option-name" class="list-anchor">#</a></li><li><code>callback</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-callback"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1" target="_blank" rel="noopener noreferrer" title="Action">Action</a>&lt;BindingSource, T, <!-- -->[TResult]<!-- -->&gt;<!-- -->&gt;<!-- --> Callback function that will be called in the Playwright&#x27;s context.<a href="#browser-context-expose-binding-option-callback" class="list-anchor">#</a></li><li><code>options</code> <!-- -->&lt;<code>BrowserContextExposeBindingOptions?</code>&gt;<ul><li><code>Handle</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-handle"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>?<!-- -->&gt;<!-- --> Whether to pass the argument as a handle, instead of passing by value. When passing a handle, only one argument is supported. When passing by value, multiple arguments are supported.<a href="#browser-context-expose-binding-option-handle" class="list-anchor">#</a></li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-expose-binding-return" class="list-anchor">#</a></li></ul><p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in every page in the context. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>. If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p><p>The first argument of the <code>callback</code> function contains information about the caller: <code>{ browserContext: BrowserContext, page: Page, frame: Frame }</code>.</p><p>See <a href="/dotnet/docs/next/api/class-page#page-expose-binding">Page.ExposeBindingAsync(name, callback, options)</a> for page-only version.</p><p>An example of exposing page URL to all frames in all pages in the context:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token namespace">Microsoft</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> playwright </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CreateAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> browser </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Webkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">LaunchAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">BrowserTypeLaunchOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Headless </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ExposeBindingAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pageURL&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> source </span><span class="token operator">=&gt;</span><span class="token plain"> source</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">SetContentAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;  async function onClick() {\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;    document.querySelector(&#x27;div&#x27;).textContent = await window.pageURL();\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;  }\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;/script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;button onclick=\&quot;onClick()\&quot;&gt;Click me&lt;/button&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Locator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ClickAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>An example of passing an element handle:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">TaskCompletionSource</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token constructor-invocation class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token constructor-invocation class-name punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> Context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> Context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ExposeBindingAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;clicked&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">BindingSource</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">IJSHandle</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">TrySetResult</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AsElement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">TextContentAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">SetContentAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;  document.addEventListener(&#x27;click&#x27;, event =&gt; window.clicked(event.target));\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;/script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;div&gt;Click me&lt;/div&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;div&gt;Or click me&lt;/div&gt;\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ClickAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;div&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Note: it makes sense to await the result here, because otherwise, the context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">//  gets closed and the binding function will throw an exception.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Assert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AreEqual</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Click me&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-expose-function">BrowserContext.ExposeFunctionAsync(name, callback)<a class="hash-link" href="#browser-context-expose-function" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>name</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-option-name"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- --> Name of the function on the window object.<a href="#browser-context-expose-function-option-name" class="list-anchor">#</a></li><li><code>callback</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-option-callback"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1" target="_blank" rel="noopener noreferrer" title="Action">Action</a>&lt;T, <!-- -->[TResult]<!-- -->&gt;<!-- -->&gt;<!-- --> Callback function that will be called in the Playwright&#x27;s context.<a href="#browser-context-expose-function-option-callback" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-expose-function-return" class="list-anchor">#</a></li></ul><p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in every page in the context. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>.</p><p>If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p><p>See <a href="/dotnet/docs/next/api/class-page#page-expose-function">Page.ExposeFunctionAsync(name, callback)</a> for page-only version.</p><p>An example of adding a <code>sha256</code> function to all pages in the context:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token namespace">Microsoft</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Security</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Cryptography</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Threading</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">Tasks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">BrowserContextExamples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token return-type class-name">Task</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> playwright </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CreateAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> browser </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Webkit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">LaunchAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">BrowserTypeLaunchOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> Headless </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ExposeFunctionAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sha256&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> Convert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ToBase64String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                SHA256</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ComputeHash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">System</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Encoding</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UTF8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">GetBytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">input</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">SetContentAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;  async function onClick() {\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;    document.querySelector(&#x27;div&#x27;).textContent = await window.sha256(&#x27;PLAYWRIGHT&#x27;);\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;  }\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;/script&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;button onclick=\&quot;onClick()\&quot;&gt;Click me&lt;/button&gt;\n&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Locator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ClickAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">WriteLine</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">TextContentAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;div&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-grant-permissions">BrowserContext.GrantPermissionsAsync(permissions, options)<a class="hash-link" href="#browser-context-grant-permissions" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>permissions</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-option-permissions"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- -->&gt;<!-- --> A permission or an array of permissions to grant. Permissions can be one of the following values:<a href="#browser-context-grant-permissions-option-permissions" class="list-anchor">#</a><ul><li><code>&#x27;geolocation&#x27;</code></li><li><code>&#x27;midi&#x27;</code></li><li><code>&#x27;midi-sysex&#x27;</code> (system-exclusive midi)</li><li><code>&#x27;notifications&#x27;</code></li><li><code>&#x27;camera&#x27;</code></li><li><code>&#x27;microphone&#x27;</code></li><li><code>&#x27;background-sync&#x27;</code></li><li><code>&#x27;ambient-light-sensor&#x27;</code></li><li><code>&#x27;accelerometer&#x27;</code></li><li><code>&#x27;gyroscope&#x27;</code></li><li><code>&#x27;magnetometer&#x27;</code></li><li><code>&#x27;accessibility-events&#x27;</code></li><li><code>&#x27;clipboard-read&#x27;</code></li><li><code>&#x27;clipboard-write&#x27;</code></li><li><code>&#x27;payment-handler&#x27;</code></li></ul></li><li><code>options</code> <!-- -->&lt;<code>BrowserContextGrantPermissionsOptions?</code>&gt;<ul><li><code>Origin</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-option-origin"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?<!-- -->&gt;<!-- --> The <a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" target="_blank" rel="noopener noreferrer" title="Origin">origin</a> to grant permissions to, e.g. &quot;<a href="https://example.com%22" target="_blank" rel="noopener noreferrer">https://example.com&quot;</a>.<a href="#browser-context-grant-permissions-option-origin" class="list-anchor">#</a></li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-grant-permissions-return" class="list-anchor">#</a></li></ul><p>Grants specified permissions to the browser context. Only grants corresponding permissions to the given origin if specified.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-new-page">BrowserContext.NewPageAsync()<a class="hash-link" href="#browser-context-new-page" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-new-page-return"></a> <!-- -->&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>&gt;<a href="#browser-context-new-page-return" class="list-anchor">#</a></li></ul><p>Creates a new page in the browser context.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-pages">BrowserContext.Pages<a class="hash-link" href="#browser-context-pages" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-pages-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>&gt;<!-- -->&gt;<a href="#browser-context-pages-return" class="list-anchor">#</a></li></ul><p>Returns all open pages in the context.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-route">BrowserContext.RouteAsync(url, handler, options)<a class="hash-link" href="#browser-context-route" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>url</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-url"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex" target="_blank" rel="noopener noreferrer" title="Regex">Regex</a>|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer" title="Func">Func</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>, bool&gt;<!-- -->&gt;<!-- --> A glob pattern, regex pattern or predicate receiving <a href="https://nodejs.org/api/url.html" target="_blank" rel="noopener noreferrer" title="URL">URL</a> to match while routing. When a <code>baseURL</code> via the context options was provided and the passed URL is a path, it gets merged via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/URL" target="_blank" rel="noopener noreferrer"><code>new URL()</code></a> constructor.<a href="#browser-context-route-option-url" class="list-anchor">#</a></li><li><code>handler</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-handler"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1" target="_blank" rel="noopener noreferrer" title="Action">Action</a>&lt;<a title="Route" href="/dotnet/docs/next/api/class-route">Route</a>&gt;<!-- -->&gt;<!-- --> handler function to route the request.<a href="#browser-context-route-option-handler" class="list-anchor">#</a></li><li><code>options</code> <!-- -->&lt;<code>BrowserContextRouteOptions?</code>&gt;<ul><li><code>Times</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-times"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer" title="int">int</a>?<!-- -->&gt;<!-- --> How often a route should be used. By default it will be used every time. <font size="2">Added in: v1.15</font><a href="#browser-context-route-option-times" class="list-anchor">#</a></li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-route-return" class="list-anchor">#</a></li></ul><p>Routing provides the capability to modify network requests that are made by any page in the browser context. Once route is enabled, every request matching the url pattern will stall unless it&#x27;s continued, fulfilled or aborted.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a> will not intercept requests intercepted by Service Worker. See <a href="https://github.com/microsoft/playwright/issues/1090" target="_blank" rel="noopener noreferrer">this</a> issue. We recommend disabling Service Workers when using request interception by setting <code>Browser.newContext.serviceWorkers</code> to <code>&#x27;block&#x27;</code>.</p></div></div><p>An example of a naive handler that aborts all image requests:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">RouteAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;**/*.{png,jpg,jpeg}&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> r </span><span class="token operator">=&gt;</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AbortAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">GotoAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://theverge.com&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CloseAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>or the same snippet using a regex pattern instead:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewContextAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> page </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">NewPageAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">RouteAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Regex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;(\\.png$)|(\\.jpg$)&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> r </span><span class="token operator">=&gt;</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">AbortAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">GotoAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://theverge.com&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">CloseAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>It is possible to examine the request to decide the route action. For example, mocking all requests that contain some post data, and leaving all other requests as is:</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">RouteAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api/**&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> r </span><span class="token operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">PostData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">Contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;my-string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">FulfillAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token named-parameter punctuation" style="color:rgb(248, 248, 242)">body</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mocked-data&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">ContinueAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Page routes (set up with <a href="/dotnet/docs/next/api/class-page#page-route">Page.RouteAsync(url, handler, options)</a>) take precedence over browser context routes when request matches both handlers.</p><p>To remove a route with its handler you can use <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-unroute">BrowserContext.UnrouteAsync(url, handler)</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Enabling routing disables http cache.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-route-from-har">BrowserContext.RouteFromHARAsync(har, options)<a class="hash-link" href="#browser-context-route-from-har" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.23</font><ul><li><p><code>har</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-har"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- --> Path to a <a href="http://www.softwareishard.com/blog/har-12-spec" target="_blank" rel="noopener noreferrer">HAR</a> file with prerecorded network data. If <code>path</code> is a relative path, then it is resolved relative to the current working directory.<a href="#browser-context-route-from-har-option-har" class="list-anchor">#</a></p></li><li><p><code>options</code> <!-- -->&lt;<code>BrowserContextRouteFromHAROptions?</code>&gt;</p><ul><li><p><code>NotFound</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-not-found"></a> <!-- -->&lt;<code>enum HarNotFound { Abort, Fallback }?</code>&gt;<!-- --> If set to &#x27;abort&#x27; any request not found in the HAR file will be aborted.<a href="#browser-context-route-from-har-option-not-found" class="list-anchor">#</a></p><ul><li>If set to &#x27;fallback&#x27; falls through to the next route handler in the handler chain.</li></ul><p>Defaults to abort.</p></li><li><p><code>Update</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-update"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>?<!-- -->&gt;<!-- --> If specified, updates the given HAR with the actual network information instead of serving from file.<a href="#browser-context-route-from-har-option-update" class="list-anchor">#</a></p></li><li><p><code>Url</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-url"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex" target="_blank" rel="noopener noreferrer" title="Regex">Regex</a>?<!-- -->&gt;<!-- --> A glob pattern, regular expression or predicate to match the request URL. Only requests with URL matching the pattern will be served from the HAR file. If not specified, all requests are served from the HAR file.<a href="#browser-context-route-from-har-option-url" class="list-anchor">#</a></p></li></ul></li><li><p>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-route-from-har-return" class="list-anchor">#</a></p></li></ul><p>If specified the network requests that are made in the context will be served from the HAR file. Read more about <a href="/dotnet/docs/next/network#replaying-from-har">Replaying from HAR</a>.</p><p>Playwright will not serve requests intercepted by Service Worker from the HAR file. See <a href="https://github.com/microsoft/playwright/issues/1090" target="_blank" rel="noopener noreferrer">this</a> issue. We recommend disabling Service Workers when using request interception by setting <code>Browser.newContext.serviceWorkers</code> to <code>&#x27;block&#x27;</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-wait-for-page">BrowserContext.RunAndWaitForPageAsync(action, options)<a class="hash-link" href="#browser-context-wait-for-page" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.9</font><ul><li><code>options</code> <!-- -->&lt;<code>BrowserContextRunAndWaitForPageOptions?</code>&gt;<ul><li><code>Predicate</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-predicate"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer" title="Func">Func</a>&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>?, bool&gt;<!-- -->&gt;<!-- --> Receives the <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> object and resolves to truthy value when the waiting should resolve.<a href="#browser-context-wait-for-page-option-predicate" class="list-anchor">#</a></li><li><code>Timeout</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-timeout"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>?<!-- -->&gt;<!-- --> Maximum time to wait for in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout. The default value can be changed by using the <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-timeout">BrowserContext.SetDefaultTimeout(timeout)</a>.<a href="#browser-context-wait-for-page-option-timeout" class="list-anchor">#</a></li></ul></li><li><code>action</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-action"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer" title="Func">Func</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=net-5.0" target="_blank" rel="noopener noreferrer" title="Task">Task</a>&gt;<!-- -->&gt;<!-- --> Action that triggers the event. <font size="2">Added in: v1.12</font><a href="#browser-context-wait-for-page-option-action" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-return"></a> <!-- -->&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>&gt;<a href="#browser-context-wait-for-page-return" class="list-anchor">#</a></li></ul><p>Performs action and waits for a new <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> to be created in the context. If predicate is provided, it passes <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> value into the <code>predicate</code> function and waits for <code>predicate(event)</code> to return a truthy value. Will throw an error if the context closes before new <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> is created.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-wait-for-page">BrowserContext.WaitForPageAsync(action, options)<a class="hash-link" href="#browser-context-wait-for-page" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.9</font><ul><li><code>action</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-action"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer" title="Func">Func</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=net-5.0" target="_blank" rel="noopener noreferrer" title="Task">Task</a>&gt;<!-- -->&gt;<!-- --> Action that triggers the event. <font size="2">Added in: v1.12</font><a href="#browser-context-wait-for-page-option-action" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-return"></a> <!-- -->&lt;<a title="Page" href="/dotnet/docs/next/api/class-page">Page</a>&gt;<a href="#browser-context-wait-for-page-return" class="list-anchor">#</a></li></ul><p>Performs action and waits for a new <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> to be created in the context. If predicate is provided, it passes <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> value into the <code>predicate</code> function and waits for <code>predicate(event)</code> to return a truthy value. Will throw an error if the context closes before new <a title="Page" href="/dotnet/docs/next/api/class-page">Page</a> is created.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-service-workers">BrowserContext.ServiceWorkers<a class="hash-link" href="#browser-context-service-workers" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.11</font><ul><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-service-workers-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable" target="_blank" rel="noopener noreferrer" title="IEnumerable">IEnumerable</a>&lt;<a title="Worker" href="/dotnet/docs/next/api/class-worker">Worker</a>&gt;<!-- -->&gt;<a href="#browser-context-service-workers-return" class="list-anchor">#</a></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Service workers are only supported on Chromium-based browsers.</p></div></div><p>All existing service workers in the context.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-set-default-navigation-timeout">BrowserContext.SetDefaultNavigationTimeout(timeout)<a class="hash-link" href="#browser-context-set-default-navigation-timeout" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>timeout</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-navigation-timeout-option-timeout"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>&gt;<!-- --> Maximum navigation time in milliseconds<a href="#browser-context-set-default-navigation-timeout-option-timeout" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-navigation-timeout-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-set-default-navigation-timeout-return" class="list-anchor">#</a></li></ul><p>This setting will change the default maximum navigation time for the following methods and related shortcuts:</p><ul><li><a href="/dotnet/docs/next/api/class-page#page-go-back">Page.GoBackAsync(options)</a></li><li><a href="/dotnet/docs/next/api/class-page#page-go-forward">Page.GoForwardAsync(options)</a></li><li><a href="/dotnet/docs/next/api/class-page#page-goto">Page.GotoAsync(url, options)</a></li><li><a href="/dotnet/docs/next/api/class-page#page-reload">Page.ReloadAsync(options)</a></li><li><a href="/dotnet/docs/next/api/class-page#page-set-content">Page.SetContentAsync(html, options)</a></li><li><a href="/dotnet/docs/next/api/class-page#page-wait-for-navigation">Page.RunAndWaitForNavigationAsync(action, options)</a></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><a href="/dotnet/docs/next/api/class-page#page-set-default-navigation-timeout">Page.SetDefaultNavigationTimeout(timeout)</a> and <a href="/dotnet/docs/next/api/class-page#page-set-default-timeout">Page.SetDefaultTimeout(timeout)</a> take priority over <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-navigation-timeout">BrowserContext.SetDefaultNavigationTimeout(timeout)</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-set-default-timeout">BrowserContext.SetDefaultTimeout(timeout)<a class="hash-link" href="#browser-context-set-default-timeout" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>timeout</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-timeout-option-timeout"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>&gt;<!-- --> Maximum time in milliseconds<a href="#browser-context-set-default-timeout-option-timeout" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-timeout-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-set-default-timeout-return" class="list-anchor">#</a></li></ul><p>This setting will change the default maximum time for all the methods accepting <code>timeout</code> option.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><a href="/dotnet/docs/next/api/class-page#page-set-default-navigation-timeout">Page.SetDefaultNavigationTimeout(timeout)</a>, <a href="/dotnet/docs/next/api/class-page#page-set-default-timeout">Page.SetDefaultTimeout(timeout)</a> and <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-navigation-timeout">BrowserContext.SetDefaultNavigationTimeout(timeout)</a> take priority over <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-default-timeout">BrowserContext.SetDefaultTimeout(timeout)</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-set-extra-http-headers">BrowserContext.SetExtraHTTPHeadersAsync(headers)<a class="hash-link" href="#browser-context-set-extra-http-headers" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>headers</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-extra-http-headers-option-headers"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.idictionary" target="_blank" rel="noopener noreferrer" title="IDictionary">IDictionary</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<!-- -->&gt;<!-- --> An object containing additional HTTP headers to be sent with every request. All header values must be strings.<a href="#browser-context-set-extra-http-headers-option-headers" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-extra-http-headers-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-set-extra-http-headers-return" class="list-anchor">#</a></li></ul><p>The extra HTTP headers will be sent with every request initiated by any page in the context. These headers are merged with page-specific extra HTTP headers set with <a href="/dotnet/docs/next/api/class-page#page-set-extra-http-headers">Page.SetExtraHTTPHeadersAsync(headers)</a>. If page overrides a particular header, page-specific header value will be used instead of the browser context header value.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><a href="/dotnet/docs/next/api/class-browsercontext#browser-context-set-extra-http-headers">BrowserContext.SetExtraHTTPHeadersAsync(headers)</a> does not guarantee the order of headers in the outgoing requests.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-set-geolocation">BrowserContext.SetGeolocationAsync(geolocation)<a class="hash-link" href="#browser-context-set-geolocation" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>geolocation</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-geolocation-option-geolocation"></a> <!-- -->&lt;<!-- -->Geolocation?<!-- -->&gt;<a href="#browser-context-set-geolocation-option-geolocation" class="list-anchor">#</a><ul><li><code>Latitude</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>&gt;<!-- --> Latitude between -90 and 90.</li><li><code>Longitude</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>&gt;<!-- --> Longitude between -180 and 180.</li><li><code>Accuracy</code> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.double" target="_blank" rel="noopener noreferrer" title="double">double</a>?<!-- -->&gt;<!-- --> Non-negative accuracy value. Defaults to <code>0</code>.</li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-geolocation-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-set-geolocation-return" class="list-anchor">#</a></li></ul><p>Sets the context&#x27;s geolocation. Passing <code>null</code> or <code>undefined</code> emulates position unavailable.</p><div class="codeBlockContainer_I0IT language-csharp theme-code-block"><div class="codeBlockContent_wNvx" style="color:#F8F8F2;background-color:#282A36"><pre tabindex="0" class="prism-code language-csharp codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">SetGeolocationAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Geolocation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Latitude </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">59.95f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Longitude </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">30.31667f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Consider using <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-grant-permissions">BrowserContext.GrantPermissionsAsync(permissions, options)</a> to grant permissions for the browser context pages to read its geolocation.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-set-offline">BrowserContext.SetOfflineAsync(offline)<a class="hash-link" href="#browser-context-set-offline" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>offline</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-offline-option-offline"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.boolean" target="_blank" rel="noopener noreferrer" title="bool">bool</a>&gt;<!-- --> Whether to emulate network being offline for the browser context.<a href="#browser-context-set-offline-option-offline" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-offline-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-set-offline-return" class="list-anchor">#</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-storage-state">BrowserContext.StorageStateAsync(options)<a class="hash-link" href="#browser-context-storage-state" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>options</code> <!-- -->&lt;<code>BrowserContextStorageStateOptions?</code>&gt;<ul><li><code>Path</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-storage-state-option-path"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>?<!-- -->&gt;<!-- --> The file path to save the storage state to. If <code>path</code> is a relative path, then it is resolved relative to current working directory. If no path is provided, storage state is still returned, but won&#x27;t be saved to the disk.<a href="#browser-context-storage-state-option-path" class="list-anchor">#</a></li></ul></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-storage-state-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;<a href="#browser-context-storage-state-return" class="list-anchor">#</a></li></ul><p>Returns storage state for this browser context, contains current cookies and local storage snapshot.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-unroute">BrowserContext.UnrouteAsync(url, handler)<a class="hash-link" href="#browser-context-unroute" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.8</font><ul><li><code>url</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-option-url"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex" target="_blank" rel="noopener noreferrer" title="Regex">Regex</a>|<a href="https://docs.microsoft.com/en-us/dotnet/api/system.func-2" target="_blank" rel="noopener noreferrer" title="Func">Func</a>&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string" target="_blank" rel="noopener noreferrer" title="string">string</a>, bool&gt;<!-- -->&gt;<!-- --> A glob pattern, regex pattern or predicate receiving <a href="https://nodejs.org/api/url.html" target="_blank" rel="noopener noreferrer" title="URL">URL</a> used to register a routing with <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a>.<a href="#browser-context-unroute-option-url" class="list-anchor">#</a></li><li><code>handler</code><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-option-handler"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1" target="_blank" rel="noopener noreferrer" title="Action">Action</a>&lt;<a title="Route" href="/dotnet/docs/next/api/class-route">Route</a>?&gt;<!-- -->&gt;<!-- --> Optional handler function used to register a routing with <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a>.<a href="#browser-context-unroute-option-handler" class="list-anchor">#</a></li><li>returns:<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-return"></a> <!-- -->&lt;<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;<a href="#browser-context-unroute-return" class="list-anchor">#</a></li></ul><p>Removes a route created with <a href="/dotnet/docs/next/api/class-browsercontext#browser-context-route">BrowserContext.RouteAsync(url, handler, options)</a>. When <code>handler</code> is not specified, removes all routes for the <code>url</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-request">BrowserContext.APIRequest<a class="hash-link" href="#browser-context-request" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.16</font><ul><li>type: <!-- -->&lt;<a title="APIRequestContext" href="/dotnet/docs/next/api/class-apirequestcontext">APIRequestContext</a>&gt;</li></ul><p>API testing helper associated with this context. Requests made with this API will use context cookies.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="browser-context-tracing">BrowserContext.Tracing<a class="hash-link" href="#browser-context-tracing" title="Direct link to heading">​</a></h2><font size="2" style="position:relative;top:-20px">Added in: v1.12</font><ul><li>type: <!-- -->&lt;<a title="Tracing" href="/dotnet/docs/next/api/class-tracing">Tracing</a>&gt;</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/dotnet/docs/next/api/class-browser"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Browser</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/dotnet/docs/next/api/class-browsertype"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BrowserType</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#browser-context-event-close" class="table-of-contents__link toc-highlight">event BrowserContext.Close</a></li><li><a href="#browser-context-event-page" class="table-of-contents__link toc-highlight">event BrowserContext.Page</a></li><li><a href="#browser-context-event-request" class="table-of-contents__link toc-highlight">event BrowserContext.Request</a></li><li><a href="#browser-context-event-request-failed" class="table-of-contents__link toc-highlight">event BrowserContext.RequestFailed</a></li><li><a href="#browser-context-event-request-finished" class="table-of-contents__link toc-highlight">event BrowserContext.RequestFinished</a></li><li><a href="#browser-context-event-response" class="table-of-contents__link toc-highlight">event BrowserContext.Response</a></li><li><a href="#browser-context-event-service-worker" class="table-of-contents__link toc-highlight">event BrowserContext.ServiceWorker</a></li><li><a href="#browser-context-add-cookies" class="table-of-contents__link toc-highlight">BrowserContext.AddCookiesAsync(cookies)</a></li><li><a href="#browser-context-add-init-script" class="table-of-contents__link toc-highlight">BrowserContext.AddInitScriptAsync(script)</a></li><li><a href="#browser-context-browser" class="table-of-contents__link toc-highlight">BrowserContext.Browser</a></li><li><a href="#browser-context-clear-cookies" class="table-of-contents__link toc-highlight">BrowserContext.ClearCookiesAsync()</a></li><li><a href="#browser-context-clear-permissions" class="table-of-contents__link toc-highlight">BrowserContext.ClearPermissionsAsync()</a></li><li><a href="#browser-context-close" class="table-of-contents__link toc-highlight">BrowserContext.CloseAsync()</a></li><li><a href="#browser-context-cookies" class="table-of-contents__link toc-highlight">BrowserContext.CookiesAsync(urls)</a></li><li><a href="#browser-context-expose-binding" class="table-of-contents__link toc-highlight">BrowserContext.ExposeBindingAsync(name, callback, options)</a></li><li><a href="#browser-context-expose-function" class="table-of-contents__link toc-highlight">BrowserContext.ExposeFunctionAsync(name, callback)</a></li><li><a href="#browser-context-grant-permissions" class="table-of-contents__link toc-highlight">BrowserContext.GrantPermissionsAsync(permissions, options)</a></li><li><a href="#browser-context-new-page" class="table-of-contents__link toc-highlight">BrowserContext.NewPageAsync()</a></li><li><a href="#browser-context-pages" class="table-of-contents__link toc-highlight">BrowserContext.Pages</a></li><li><a href="#browser-context-route" class="table-of-contents__link toc-highlight">BrowserContext.RouteAsync(url, handler, options)</a></li><li><a href="#browser-context-route-from-har" class="table-of-contents__link toc-highlight">BrowserContext.RouteFromHARAsync(har, options)</a></li><li><a href="#browser-context-wait-for-page" class="table-of-contents__link toc-highlight">BrowserContext.RunAndWaitForPageAsync(action, options)</a></li><li><a href="#browser-context-wait-for-page" class="table-of-contents__link toc-highlight">BrowserContext.WaitForPageAsync(action, options)</a></li><li><a href="#browser-context-service-workers" class="table-of-contents__link toc-highlight">BrowserContext.ServiceWorkers</a></li><li><a href="#browser-context-set-default-navigation-timeout" class="table-of-contents__link toc-highlight">BrowserContext.SetDefaultNavigationTimeout(timeout)</a></li><li><a href="#browser-context-set-default-timeout" class="table-of-contents__link toc-highlight">BrowserContext.SetDefaultTimeout(timeout)</a></li><li><a href="#browser-context-set-extra-http-headers" class="table-of-contents__link toc-highlight">BrowserContext.SetExtraHTTPHeadersAsync(headers)</a></li><li><a href="#browser-context-set-geolocation" class="table-of-contents__link toc-highlight">BrowserContext.SetGeolocationAsync(geolocation)</a></li><li><a href="#browser-context-set-offline" class="table-of-contents__link toc-highlight">BrowserContext.SetOfflineAsync(offline)</a></li><li><a href="#browser-context-storage-state" class="table-of-contents__link toc-highlight">BrowserContext.StorageStateAsync(options)</a></li><li><a href="#browser-context-unroute" class="table-of-contents__link toc-highlight">BrowserContext.UnrouteAsync(url, handler)</a></li><li><a href="#browser-context-request" class="table-of-contents__link toc-highlight">BrowserContext.APIRequest</a></li><li><a href="#browser-context-tracing" class="table-of-contents__link toc-highlight">BrowserContext.Tracing</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/dotnet/docs/intro">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/dotnet/docs/api/class-playwright">API reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aka.ms/playwright-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/microsoft/playwright-dotnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC46Zj8pDH5tDosqm1gd7WTg" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/dotnet/community/conference-videos">Conference videos</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Microsoft</div></div></div></footer></div>
<script src="/dotnet/assets/js/runtime~main.5bdf0e71.js"></script>
<script src="/dotnet/assets/js/main.08bbbed7.js"></script>
</body>
</html>